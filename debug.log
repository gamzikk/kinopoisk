2023-03-09 23:33:09,773 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-09 23:38:48,062 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-09 23:40:44,430 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-09 23:40:50,353 django.request WARNING  Not Found: /favicon.ico
2023-03-10 23:41:16,645 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-10 23:41:23,645 django.request WARNING  Not Found: /favicon.ico
2023-03-10 23:41:31,124 django.request ERROR    Internal Server Error: /users/contact/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 90, in contact
    form = ContactForm()
NameError: name 'ContactForm' is not defined
2023-03-10 23:42:01,162 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-03-10 23:42:01,781 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-10 23:42:02,226 django.request ERROR    Internal Server Error: /users/contact/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 104, in contact
    return render(request, 'email.html', {'form': form})
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\shortcuts.py", line 24, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader.py", line 61, in render_to_string
    template = get_template(template_name, using=using)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader.py", line 19, in get_template
    raise TemplateDoesNotExist(template_name, chain=chain)
django.template.exceptions.TemplateDoesNotExist: email.html
2023-03-10 23:42:38,789 django.request ERROR    Internal Server Error: /users/contact/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 104, in contact
    return render(request, 'users/email.html', {'form': form})
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\shortcuts.py", line 24, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader.py", line 61, in render_to_string
    template = get_template(template_name, using=using)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader.py", line 19, in get_template
    raise TemplateDoesNotExist(template_name, chain=chain)
django.template.exceptions.TemplateDoesNotExist: email.html
2023-03-10 23:42:39,262 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-03-10 23:42:39,852 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-10 23:45:53,775 django.request ERROR    Internal Server Error: /users/contact/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\users\views.py", line 98, in contact
    send_mail(f'{subject} от {from_email}', message, DEFAULT_FROM_EMAIL, RECIPIENTS_EMAIL)
NameError: name 'send_mail' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 99, in contact
    except BadHeaderError:
NameError: name 'BadHeaderError' is not defined
2023-03-11 00:00:23,428 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-11 00:00:30,903 django.request ERROR    Internal Server Error: /users/contact/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\users\views.py", line 99, in contact
    send_mail(f'{subject} от {from_email}', message, DEFAULT_FROM_EMAIL, RECIPIENTS_EMAIL)
NameError: name 'DEFAULT_FROM_EMAIL' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 100, in contact
    except BadHeaderError:
NameError: name 'BadHeaderError' is not defined
2023-03-11 00:05:16,152 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-03-11 00:05:16,755 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-11 00:05:29,439 django.request ERROR    Internal Server Error: /users/contact/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 99, in contact
    send_mail(f'{subject} от {from_email}', message, DEFAULT_FROM_EMAIL, RECIPIENTS_EMAIL)
NameError: name 'DEFAULT_FROM_EMAIL' is not defined
2023-03-11 00:06:16,411 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-03-11 00:06:17,012 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-11 00:06:51,462 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-03-11 00:06:52,045 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-11 23:06:51,810 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-11 23:07:11,107 django.request WARNING  Not Found: /
2023-03-11 23:07:12,211 django.request WARNING  Not Found: /favicon.ico
2023-03-12 19:38:20,988 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-12 19:38:34,494 django.request WARNING  Not Found: /favicon.ico
2023-03-14 23:05:41,229 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-14 23:05:51,489 django.request WARNING  Not Found: /
2023-03-14 23:05:52,135 django.request WARNING  Not Found: /favicon.ico
2023-03-16 21:06:41,713 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-16 21:06:45,027 django.request WARNING  Not Found: /
2023-03-16 21:06:45,393 django.request WARNING  Not Found: /favicon.ico
2023-03-16 21:09:27,504 PIL.Image    DEBUG    Importing BlpImagePlugin
2023-03-16 21:09:27,505 PIL.Image    DEBUG    Importing BmpImagePlugin
2023-03-16 21:09:27,511 PIL.Image    DEBUG    Importing BufrStubImagePlugin
2023-03-16 21:09:27,522 PIL.Image    DEBUG    Importing CurImagePlugin
2023-03-16 21:09:27,530 PIL.Image    DEBUG    Importing DcxImagePlugin
2023-03-16 21:09:27,534 PIL.Image    DEBUG    Importing DdsImagePlugin
2023-03-16 21:09:27,535 PIL.Image    DEBUG    Importing EpsImagePlugin
2023-03-16 21:09:27,546 PIL.Image    DEBUG    Importing FitsImagePlugin
2023-03-16 21:09:27,547 PIL.Image    DEBUG    Importing FitsStubImagePlugin
2023-03-16 21:09:27,564 PIL.Image    DEBUG    Importing FliImagePlugin
2023-03-16 21:09:27,565 PIL.Image    DEBUG    Importing FpxImagePlugin
2023-03-16 21:09:27,566 PIL.Image    DEBUG    Image: failed to import FpxImagePlugin: No module named 'olefile'
2023-03-16 21:09:27,567 PIL.Image    DEBUG    Importing FtexImagePlugin
2023-03-16 21:09:27,568 PIL.Image    DEBUG    Importing GbrImagePlugin
2023-03-16 21:09:27,569 PIL.Image    DEBUG    Importing GifImagePlugin
2023-03-16 21:09:27,569 PIL.Image    DEBUG    Importing GribStubImagePlugin
2023-03-16 21:09:27,570 PIL.Image    DEBUG    Importing Hdf5StubImagePlugin
2023-03-16 21:09:27,570 PIL.Image    DEBUG    Importing IcnsImagePlugin
2023-03-16 21:09:27,592 PIL.Image    DEBUG    Importing IcoImagePlugin
2023-03-16 21:09:27,598 PIL.Image    DEBUG    Importing ImImagePlugin
2023-03-16 21:09:27,599 PIL.Image    DEBUG    Importing ImtImagePlugin
2023-03-16 21:09:27,600 PIL.Image    DEBUG    Importing IptcImagePlugin
2023-03-16 21:09:27,601 PIL.Image    DEBUG    Importing JpegImagePlugin
2023-03-16 21:09:27,601 PIL.Image    DEBUG    Importing Jpeg2KImagePlugin
2023-03-16 21:09:27,601 PIL.Image    DEBUG    Importing McIdasImagePlugin
2023-03-16 21:09:27,603 PIL.Image    DEBUG    Importing MicImagePlugin
2023-03-16 21:09:27,604 PIL.Image    DEBUG    Image: failed to import MicImagePlugin: No module named 'olefile'
2023-03-16 21:09:27,604 PIL.Image    DEBUG    Importing MpegImagePlugin
2023-03-16 21:09:27,605 PIL.Image    DEBUG    Importing MpoImagePlugin
2023-03-16 21:09:27,606 PIL.Image    DEBUG    Importing MspImagePlugin
2023-03-16 21:09:27,606 PIL.Image    DEBUG    Importing PalmImagePlugin
2023-03-16 21:09:27,609 PIL.Image    DEBUG    Importing PcdImagePlugin
2023-03-16 21:09:27,610 PIL.Image    DEBUG    Importing PcxImagePlugin
2023-03-16 21:09:27,610 PIL.Image    DEBUG    Importing PdfImagePlugin
2023-03-16 21:09:27,615 PIL.Image    DEBUG    Importing PixarImagePlugin
2023-03-16 21:09:27,616 PIL.Image    DEBUG    Importing PngImagePlugin
2023-03-16 21:09:27,616 PIL.Image    DEBUG    Importing PpmImagePlugin
2023-03-16 21:09:27,616 PIL.Image    DEBUG    Importing PsdImagePlugin
2023-03-16 21:09:27,617 PIL.Image    DEBUG    Importing SgiImagePlugin
2023-03-16 21:09:27,618 PIL.Image    DEBUG    Importing SpiderImagePlugin
2023-03-16 21:09:27,619 PIL.Image    DEBUG    Importing SunImagePlugin
2023-03-16 21:09:27,620 PIL.Image    DEBUG    Importing TgaImagePlugin
2023-03-16 21:09:27,621 PIL.Image    DEBUG    Importing TiffImagePlugin
2023-03-16 21:09:27,621 PIL.Image    DEBUG    Importing WebPImagePlugin
2023-03-16 21:09:27,663 PIL.Image    DEBUG    Importing WmfImagePlugin
2023-03-16 21:09:27,664 PIL.Image    DEBUG    Importing XbmImagePlugin
2023-03-16 21:09:27,665 PIL.Image    DEBUG    Importing XpmImagePlugin
2023-03-16 21:09:27,666 PIL.Image    DEBUG    Importing XVThumbImagePlugin
2023-03-21 21:43:26,895 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-21 21:43:32,019 django.request WARNING  Not Found: /
2023-03-21 21:43:32,402 django.request WARNING  Not Found: /favicon.ico
2023-03-21 21:51:56,473 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-03-21 21:51:56,973 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-21 21:52:18,645 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\models.py changed, reloading.
2023-03-21 21:52:19,129 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-21 21:55:37,306 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-21 21:55:41,341 django.request WARNING  Not Found: /
2023-03-21 21:55:50,506 django.request ERROR    Internal Server Error: /admin/films/film/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
psycopg2.errors.UndefinedColumn: ОШИБКА:  столбец Film.by_subscription не существует
LINE 1: SELECT "Film"."id", "Film"."by_subscription", "Film"."image"...
                            ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 686, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 134, in _wrapped_view
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\views\decorators\cache.py", line 62, in _wrapped_view_func
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\sites.py", line 242, in inner
    return view(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 46, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 134, in _wrapped_view
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 2069, in changelist_view
    "selection_note": _("0 of %(cnt)s selected") % {"cnt": len(cl.result_list)},
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 376, in __len__
    self._fetch_all()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1867, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 87, in __iter__
    results = compiler.execute_sql(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\compiler.py", line 1398, in execute_sql
    cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 230, in execute
    return self._record(self.cursor.execute, sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 154, in _record
    return method(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 102, in execute
    return super().execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
django.db.utils.ProgrammingError: ОШИБКА:  столбец Film.by_subscription не существует
LINE 1: SELECT "Film"."id", "Film"."by_subscription", "Film"."image"...
                            ^

2023-03-21 21:56:22,181 django.request ERROR    Internal Server Error: /films/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
psycopg2.errors.UndefinedColumn: ОШИБКА:  столбец Film.by_subscription не существует
LINE 1: SELECT "Film"."id", "Film"."by_subscription", "Film"."image"...
                            ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 220, in _get_response
    response = response.render()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\response.py", line 114, in render
    self.content = self.rendered_content
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\response.py", line 92, in rendered_content
    return template.render(context, self._request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\backends\django.py", line 61, in render
    return self.template.render(context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 175, in render
    return self._render(context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\test\utils.py", line 111, in instrumented_test_render
    return self.nodelist.render(context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 966, in render_annotated
    return self.render(context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader_tags.py", line 157, in render
    return compiled_parent._render(context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\test\utils.py", line 111, in instrumented_test_render
    return self.nodelist.render(context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 966, in render_annotated
    return self.render(context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader_tags.py", line 63, in render
    result = block.nodelist.render(context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 966, in render_annotated
    return self.render(context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\defaulttags.py", line 194, in render
    len_values = len(values)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 376, in __len__
    self._fetch_all()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1867, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 87, in __iter__
    results = compiler.execute_sql(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\compiler.py", line 1398, in execute_sql
    cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 230, in execute
    return self._record(self.cursor.execute, sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 154, in _record
    return method(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 102, in execute
    return super().execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
django.db.utils.ProgrammingError: ОШИБКА:  столбец Film.by_subscription не существует
LINE 1: SELECT "Film"."id", "Film"."by_subscription", "Film"."image"...
                            ^

2023-03-21 22:24:42,814 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\models.py changed, reloading.
2023-03-21 22:24:43,548 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-21 22:26:15,371 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\admin.py changed, reloading.
2023-03-21 22:26:15,893 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-21 22:28:21,644 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\models.py changed, reloading.
2023-03-21 22:28:22,160 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 19:12:34,185 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 19:41:26,632 django.request WARNING  Not Found: /favicon.ico
2023-03-22 19:50:32,901 django.request ERROR    Internal Server Error: /films/1/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 220, in _get_response
    response = response.render()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\response.py", line 114, in render
    self.content = self.rendered_content
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\response.py", line 90, in rendered_content
    template = self.resolve_template(self.template_name)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\response.py", line 72, in resolve_template
    return select_template(template, using=self.using)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader.py", line 42, in select_template
    return engine.get_template(template_name)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\backends\django.py", line 33, in get_template
    return Template(self.engine.get_template(template_name), self)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\engine.py", line 175, in get_template
    template, origin = self.find_template(template_name)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\engine.py", line 157, in find_template
    template = loader.get_template(name, skip=skip)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loaders\cached.py", line 57, in get_template
    template = super().get_template(template_name, skip)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loaders\base.py", line 28, in get_template
    return Template(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 154, in __init__
    self.nodelist = self.compile_nodelist()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 200, in compile_nodelist
    return parser.parse()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 513, in parse
    raise self.error(token, e)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 511, in parse
    compiled_result = compile_func(self, token)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader_tags.py", line 293, in do_extends
    nodelist = parser.parse()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 513, in parse
    raise self.error(token, e)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 511, in parse
    compiled_result = compile_func(self, token)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader_tags.py", line 232, in do_block
    nodelist = parser.parse(("endblock",))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 484, in parse
    raise self.error(token, e)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 482, in parse
    filter_expression = self.compile_filter(token.contents)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 600, in compile_filter
    return FilterExpression(token, self)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 703, in __init__
    raise TemplateSyntaxError(
django.template.exceptions.TemplateSyntaxError: Could not parse the remainder: '} film.name' from '} film.name'
2023-03-22 19:51:56,095 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-03-22 19:51:56,780 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 20:05:07,561 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-03-22 20:05:08,149 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 20:06:33,251 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-03-22 20:06:33,810 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 20:08:18,841 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-03-22 20:08:19,332 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 20:08:42,284 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-03-22 20:08:42,821 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 20:09:35,822 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-03-22 20:09:36,326 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 20:35:01,860 django.request WARNING  Not Found: /favicon.ico
2023-03-22 20:56:20,354 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\urls.py changed, reloading.
2023-03-22 20:56:21,037 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 20:57:54,958 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\urls.py changed, reloading.
2023-03-22 20:57:55,507 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 21:00:23,183 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\urls.py changed, reloading.
2023-03-22 21:00:23,732 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 21:00:24,112 django.request ERROR    Internal Server Error: /users/subscribe
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 91, in subscribe
    return render(request, 'users/subscribe.html')
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\shortcuts.py", line 24, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader.py", line 61, in render_to_string
    template = get_template(template_name, using=using)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader.py", line 19, in get_template
    raise TemplateDoesNotExist(template_name, chain=chain)
django.template.exceptions.TemplateDoesNotExist: users/subscribe.html
2023-03-22 22:37:33,986 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-03-22 22:37:34,703 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 22:39:14,661 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 22:46:30,830 django.request ERROR    Internal Server Error: /films/1/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\smartif.py", line 179, in translate_token
    op = OPERATORS[token]
KeyError: '{{'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 220, in _get_response
    response = response.render()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\response.py", line 114, in render
    self.content = self.rendered_content
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\response.py", line 90, in rendered_content
    template = self.resolve_template(self.template_name)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\response.py", line 72, in resolve_template
    return select_template(template, using=self.using)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader.py", line 42, in select_template
    return engine.get_template(template_name)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\backends\django.py", line 33, in get_template
    return Template(self.engine.get_template(template_name), self)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\engine.py", line 175, in get_template
    template, origin = self.find_template(template_name)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\engine.py", line 157, in find_template
    template = loader.get_template(name, skip=skip)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loaders\cached.py", line 57, in get_template
    template = super().get_template(template_name, skip)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loaders\base.py", line 28, in get_template
    return Template(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 154, in __init__
    self.nodelist = self.compile_nodelist()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 200, in compile_nodelist
    return parser.parse()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 513, in parse
    raise self.error(token, e)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 511, in parse
    compiled_result = compile_func(self, token)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader_tags.py", line 293, in do_extends
    nodelist = parser.parse()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 513, in parse
    raise self.error(token, e)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 511, in parse
    compiled_result = compile_func(self, token)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader_tags.py", line 232, in do_block
    nodelist = parser.parse(("endblock",))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 513, in parse
    raise self.error(token, e)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 511, in parse
    compiled_result = compile_func(self, token)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\defaulttags.py", line 952, in do_if
    condition = TemplateIfParser(parser, bits).parse()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\defaulttags.py", line 885, in __init__
    super().__init__(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\smartif.py", line 170, in __init__
    mapped_tokens.append(self.translate_token(token))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\smartif.py", line 181, in translate_token
    return self.create_var(token)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\defaulttags.py", line 888, in create_var
    return TemplateLiteral(self.template_parser.compile_filter(value), value)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 600, in compile_filter
    return FilterExpression(token, self)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 703, in __init__
    raise TemplateSyntaxError(
django.template.exceptions.TemplateSyntaxError: Could not parse the remainder: '{{' from '{{'
2023-03-22 22:51:38,459 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-03-22 22:51:39,039 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 23:14:16,745 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-03-22 23:14:17,246 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 23:15:53,372 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-03-22 23:15:53,879 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 23:17:10,384 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-03-22 23:17:10,907 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 23:17:31,659 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-03-22 23:17:32,184 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 23:18:52,013 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\urls.py changed, reloading.
2023-03-22 23:18:52,568 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 23:19:07,415 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\urls.py changed, reloading.
2023-03-22 23:19:07,935 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 23:19:30,992 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-03-22 23:19:31,534 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 23:20:51,564 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-03-22 23:20:52,112 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 23:22:28,631 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-03-22 23:22:29,150 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 23:24:18,653 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 23:26:35,547 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\migrations\0003_alter_film_by_subscription_alter_film_country.py changed, reloading.
2023-03-22 23:26:36,043 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 23:27:11,583 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 23:36:48,997 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-03-22 23:36:49,546 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 23:37:10,285 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-03-22 23:37:10,801 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-24 21:37:21,073 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-30 21:58:50,998 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-30 21:59:10,906 django.request WARNING  Not Found: /
2023-03-30 21:59:11,217 django.request WARNING  Not Found: /favicon.ico
2023-03-30 21:59:17,463 django.request WARNING  Not Found: /films/test
2023-03-30 22:03:55,132 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-03-30 22:03:55,699 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-30 22:05:03,241 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\urls.py changed, reloading.
2023-03-30 22:05:03,764 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-30 22:05:41,232 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\urls.py changed, reloading.
2023-03-30 22:05:41,762 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-30 22:06:18,208 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-03-30 22:06:18,719 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-30 22:07:36,573 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-03-30 22:07:37,112 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-30 22:08:21,752 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-03-30 22:08:22,318 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-30 22:08:22,601 django.request WARNING  Not Found: /users/test
2023-03-30 22:15:04,127 django.request ERROR    Internal Server Error: /users/subscribe
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 91, in subscribe
    return render(request, 'users/test.html', {'subscribe': subscribe})
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\shortcuts.py", line 24, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader.py", line 61, in render_to_string
    template = get_template(template_name, using=using)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader.py", line 15, in get_template
    return engine.get_template(template_name)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\backends\django.py", line 33, in get_template
    return Template(self.engine.get_template(template_name), self)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\engine.py", line 175, in get_template
    template, origin = self.find_template(template_name)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\engine.py", line 157, in find_template
    template = loader.get_template(name, skip=skip)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loaders\cached.py", line 57, in get_template
    template = super().get_template(template_name, skip)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loaders\base.py", line 28, in get_template
    return Template(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 154, in __init__
    self.nodelist = self.compile_nodelist()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 200, in compile_nodelist
    return parser.parse()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 513, in parse
    raise self.error(token, e)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 511, in parse
    compiled_result = compile_func(self, token)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\defaulttags.py", line 853, in do_for
    nodelist_loop = parser.parse(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 484, in parse
    raise self.error(token, e)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 482, in parse
    filter_expression = self.compile_filter(token.contents)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 600, in compile_filter
    return FilterExpression(token, self)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 703, in __init__
    raise TemplateSyntaxError(
django.template.exceptions.TemplateSyntaxError: Could not parse the remainder: ' date' from 'el date'
2023-03-30 22:15:11,271 django.request ERROR    Internal Server Error: /users/subscribe
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 505, in parse
    compile_func = self.tags[command]
KeyError: 'enfor'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 91, in subscribe
    return render(request, 'users/test.html', {'subscribe': subscribe})
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\shortcuts.py", line 24, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader.py", line 61, in render_to_string
    template = get_template(template_name, using=using)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader.py", line 15, in get_template
    return engine.get_template(template_name)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\backends\django.py", line 33, in get_template
    return Template(self.engine.get_template(template_name), self)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\engine.py", line 175, in get_template
    template, origin = self.find_template(template_name)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\engine.py", line 157, in find_template
    template = loader.get_template(name, skip=skip)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loaders\cached.py", line 57, in get_template
    template = super().get_template(template_name, skip)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loaders\base.py", line 28, in get_template
    return Template(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 154, in __init__
    self.nodelist = self.compile_nodelist()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 200, in compile_nodelist
    return parser.parse()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 513, in parse
    raise self.error(token, e)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 511, in parse
    compiled_result = compile_func(self, token)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\defaulttags.py", line 853, in do_for
    nodelist_loop = parser.parse(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 507, in parse
    self.invalid_block_tag(token, command, parse_until)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 558, in invalid_block_tag
    raise self.error(
django.template.exceptions.TemplateSyntaxError: Invalid block tag on line 14: 'enfor', expected 'empty' or 'endfor'. Did you forget to register or load this tag?
2023-03-30 22:24:45,025 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-30 22:25:41,727 django.request WARNING  Not Found: /favicon.ico
2023-03-30 22:44:05,900 django.request WARNING  Not Found: /users
2023-03-31 00:05:47,903 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-31 00:05:52,291 django.request WARNING  Not Found: /
2023-03-31 00:05:57,464 django.request WARNING  Not Found: /main/main/js/main.js
2023-03-31 00:06:34,821 django.request WARNING  Not Found: /main/main/js/main.js
2023-03-31 00:09:27,224 django.request WARNING  Not Found: /main/js/main.js
2023-03-31 22:44:29,964 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-31 22:44:38,035 django.request WARNING  Not Found: /
2023-03-31 22:44:38,650 django.request WARNING  Not Found: /favicon.ico
2023-03-31 22:54:33,200 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-03-31 22:54:33,802 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-31 23:57:18,431 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-31 23:57:22,142 django.request WARNING  Not Found: /
2023-04-01 22:08:46,564 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 22:08:53,596 django.request ERROR    Internal Server Error: /
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\middleware.py", line 55, in __call__
    panel.enable_instrumentation()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\cache.py", line 206, in enable_instrumentation
    for cache in caches.all(initialized_only=True):
TypeError: all() got an unexpected keyword argument 'initialized_only'
2023-04-01 22:08:53,966 django.request ERROR    Internal Server Error: /favicon.ico
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\middleware.py", line 55, in __call__
    panel.enable_instrumentation()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\cache.py", line 206, in enable_instrumentation
    for cache in caches.all(initialized_only=True):
TypeError: all() got an unexpected keyword argument 'initialized_only'
2023-04-01 22:08:57,463 django.request ERROR    Internal Server Error: /users/subscribe
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\middleware.py", line 55, in __call__
    panel.enable_instrumentation()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\cache.py", line 206, in enable_instrumentation
    for cache in caches.all(initialized_only=True):
TypeError: all() got an unexpected keyword argument 'initialized_only'
2023-04-01 22:08:58,057 django.request ERROR    Internal Server Error: /favicon.ico
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\middleware.py", line 55, in __call__
    panel.enable_instrumentation()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\cache.py", line 206, in enable_instrumentation
    for cache in caches.all(initialized_only=True):
TypeError: all() got an unexpected keyword argument 'initialized_only'
2023-04-01 22:11:23,754 django.request ERROR    Internal Server Error: /users/subscribe
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\middleware.py", line 55, in __call__
    panel.enable_instrumentation()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\cache.py", line 206, in enable_instrumentation
    for cache in caches.all(initialized_only=True):
TypeError: all() got an unexpected keyword argument 'initialized_only'
2023-04-01 22:11:24,192 django.request ERROR    Internal Server Error: /favicon.ico
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\middleware.py", line 55, in __call__
    panel.enable_instrumentation()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\cache.py", line 206, in enable_instrumentation
    for cache in caches.all(initialized_only=True):
TypeError: all() got an unexpected keyword argument 'initialized_only'
2023-04-01 22:13:18,039 asyncio      DEBUG    Using proactor: IocpProactor
2023-04-01 22:13:18,151 asyncio      DEBUG    Using proactor: IocpProactor
2023-04-01 22:13:50,142 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 22:13:56,039 django.request ERROR    Internal Server Error: /users/subscribe
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\middleware.py", line 55, in __call__
    panel.enable_instrumentation()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\cache.py", line 206, in enable_instrumentation
    for cache in caches.all(initialized_only=True):
TypeError: all() got an unexpected keyword argument 'initialized_only'
2023-04-01 22:13:56,461 django.request ERROR    Internal Server Error: /favicon.ico
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\middleware.py", line 55, in __call__
    panel.enable_instrumentation()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\cache.py", line 206, in enable_instrumentation
    for cache in caches.all(initialized_only=True):
TypeError: all() got an unexpected keyword argument 'initialized_only'
2023-04-01 22:13:57,997 django.request ERROR    Internal Server Error: /users/subscribe
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\middleware.py", line 55, in __call__
    panel.enable_instrumentation()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\cache.py", line 206, in enable_instrumentation
    for cache in caches.all(initialized_only=True):
TypeError: all() got an unexpected keyword argument 'initialized_only'
2023-04-01 22:13:58,216 django.request ERROR    Internal Server Error: /favicon.ico
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\middleware.py", line 55, in __call__
    panel.enable_instrumentation()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\cache.py", line 206, in enable_instrumentation
    for cache in caches.all(initialized_only=True):
TypeError: all() got an unexpected keyword argument 'initialized_only'
2023-04-01 22:14:26,218 asyncio      DEBUG    Using proactor: IocpProactor
2023-04-01 22:14:26,280 asyncio      DEBUG    Using proactor: IocpProactor
2023-04-01 22:15:23,078 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 22:15:28,696 django.request ERROR    Internal Server Error: /users/subscribe
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\middleware.py", line 55, in __call__
    panel.enable_instrumentation()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\cache.py", line 206, in enable_instrumentation
    for cache in caches.all(initialized_only=True):
TypeError: all() got an unexpected keyword argument 'initialized_only'
2023-04-01 22:15:29,133 django.request ERROR    Internal Server Error: /favicon.ico
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\middleware.py", line 55, in __call__
    panel.enable_instrumentation()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\cache.py", line 206, in enable_instrumentation
    for cache in caches.all(initialized_only=True):
TypeError: all() got an unexpected keyword argument 'initialized_only'
2023-04-01 22:15:31,080 django.request ERROR    Internal Server Error: /users/subscribe
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\middleware.py", line 55, in __call__
    panel.enable_instrumentation()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\cache.py", line 206, in enable_instrumentation
    for cache in caches.all(initialized_only=True):
TypeError: all() got an unexpected keyword argument 'initialized_only'
2023-04-01 22:15:31,297 django.request ERROR    Internal Server Error: /favicon.ico
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\middleware.py", line 55, in __call__
    panel.enable_instrumentation()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\cache.py", line 206, in enable_instrumentation
    for cache in caches.all(initialized_only=True):
TypeError: all() got an unexpected keyword argument 'initialized_only'
2023-04-01 22:15:37,994 asyncio      DEBUG    Using proactor: IocpProactor
2023-04-01 22:15:38,058 asyncio      DEBUG    Using proactor: IocpProactor
2023-04-01 22:16:57,168 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 22:17:00,671 django.request ERROR    Internal Server Error: /users/subscribe
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\middleware.py", line 55, in __call__
    panel.enable_instrumentation()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\cache.py", line 206, in enable_instrumentation
    for cache in caches.all(initialized_only=True):
TypeError: all() got an unexpected keyword argument 'initialized_only'
2023-04-01 22:17:00,899 django.request ERROR    Internal Server Error: /favicon.ico
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\middleware.py", line 55, in __call__
    panel.enable_instrumentation()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\cache.py", line 206, in enable_instrumentation
    for cache in caches.all(initialized_only=True):
TypeError: all() got an unexpected keyword argument 'initialized_only'
2023-04-01 22:17:27,770 asyncio      DEBUG    Using proactor: IocpProactor
2023-04-01 22:17:27,829 asyncio      DEBUG    Using proactor: IocpProactor
2023-04-01 22:17:36,030 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 22:17:37,504 django.request ERROR    Internal Server Error: /users/subscribe
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\middleware.py", line 55, in __call__
    panel.enable_instrumentation()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\cache.py", line 206, in enable_instrumentation
    for cache in caches.all(initialized_only=True):
TypeError: all() got an unexpected keyword argument 'initialized_only'
2023-04-01 22:17:37,713 django.request ERROR    Internal Server Error: /favicon.ico
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\middleware.py", line 55, in __call__
    panel.enable_instrumentation()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\cache.py", line 206, in enable_instrumentation
    for cache in caches.all(initialized_only=True):
TypeError: all() got an unexpected keyword argument 'initialized_only'
2023-04-01 22:17:48,793 asyncio      DEBUG    Using proactor: IocpProactor
2023-04-01 22:17:48,850 asyncio      DEBUG    Using proactor: IocpProactor
2023-04-01 22:19:16,132 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 22:19:19,958 django.request WARNING  Not Found: /favicon.ico
2023-04-01 22:19:47,405 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 22:29:34,693 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-01 22:29:35,255 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 22:31:13,101 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-01 22:31:13,707 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 22:31:34,728 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-01 22:31:35,292 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 22:35:28,677 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-01 22:35:29,249 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 22:37:45,323 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-01 22:37:45,893 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 22:37:46,425 django.request ERROR    Internal Server Error: /users/subscribe
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 94, in subscribe
    check = (date_now - el.date)
TypeError: unsupported operand type(s) for -: 'datetime.date' and 'datetime.datetime'
2023-04-01 22:38:39,961 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-01 22:38:40,535 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 22:39:39,255 django.request ERROR    Internal Server Error: /users/subscribe
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 95, in subscribe
    check = (date_now - date)
TypeError: unsupported operand type(s) for -: 'datetime.date' and 'datetime.datetime'
2023-04-01 22:39:39,867 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-01 22:39:40,426 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 22:39:41,261 django.request ERROR    Internal Server Error: /users/subscribe
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 94, in subscribe
    date = datetime.date(el.date)
TypeError: an integer is required (got type datetime.datetime)
2023-04-01 22:41:31,240 django.request ERROR    Internal Server Error: /users/subscribe
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 94, in subscribe
    year = el.date.year
TypeError: an integer is required (got type datetime.datetime)
2023-04-01 22:41:31,440 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-01 22:41:32,061 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 22:42:32,526 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-01 22:42:33,075 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 22:48:17,401 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\models.py changed, reloading.
2023-04-01 22:51:10,483 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 22:51:19,223 django.request ERROR    Internal Server Error: /admin/users/subscription/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
psycopg2.errors.UndefinedTable: ОШИБКА:  отношение "users_subscription" не существует
LINE 1: SELECT COUNT(*) AS "__count" FROM "users_subscription"
                                          ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 686, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 134, in _wrapped_view
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\views\decorators\cache.py", line 62, in _wrapped_view_func
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\sites.py", line 242, in inner
    return view(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 46, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 134, in _wrapped_view
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 1932, in changelist_view
    cl = self.get_changelist_instance(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 834, in get_changelist_instance
    return ChangeList(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\views\main.py", line 123, in __init__
    self.get_results(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\views\main.py", line 279, in get_results
    result_count = paginator.count
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\functional.py", line 57, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\paginator.py", line 96, in count
    return c()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 621, in count
    return self.query.get_count(using=self.db)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 559, in get_count
    return obj.get_aggregation(using, ["__count"])["__count"]
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 544, in get_aggregation
    result = compiler.execute_sql(SINGLE)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\compiler.py", line 1398, in execute_sql
    cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 230, in execute
    return self._record(self.cursor.execute, sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 154, in _record
    return method(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 102, in execute
    return super().execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
django.db.utils.ProgrammingError: ОШИБКА:  отношение "users_subscription" не существует
LINE 1: SELECT COUNT(*) AS "__count" FROM "users_subscription"
                                          ^

2023-04-01 22:58:17,281 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\models.py changed, reloading.
2023-04-01 22:58:17,854 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 23:06:17,715 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 23:06:27,442 django.request ERROR    Internal Server Error: /admin/users/subscription/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
psycopg2.errors.UndefinedTable: ОШИБКА:  отношение "Subscription" не существует
LINE 1: SELECT COUNT(*) AS "__count" FROM "Subscription"
                                          ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 686, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 134, in _wrapped_view
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\views\decorators\cache.py", line 62, in _wrapped_view_func
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\sites.py", line 242, in inner
    return view(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 46, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 134, in _wrapped_view
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 1932, in changelist_view
    cl = self.get_changelist_instance(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 834, in get_changelist_instance
    return ChangeList(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\views\main.py", line 123, in __init__
    self.get_results(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\views\main.py", line 279, in get_results
    result_count = paginator.count
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\functional.py", line 57, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\paginator.py", line 96, in count
    return c()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 621, in count
    return self.query.get_count(using=self.db)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 559, in get_count
    return obj.get_aggregation(using, ["__count"])["__count"]
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 544, in get_aggregation
    result = compiler.execute_sql(SINGLE)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\compiler.py", line 1398, in execute_sql
    cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 230, in execute
    return self._record(self.cursor.execute, sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 154, in _record
    return method(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 102, in execute
    return super().execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
django.db.utils.ProgrammingError: ОШИБКА:  отношение "Subscription" не существует
LINE 1: SELECT COUNT(*) AS "__count" FROM "Subscription"
                                          ^

2023-04-01 23:07:02,694 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\models.py changed, reloading.
2023-04-01 23:07:03,214 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 23:07:39,745 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 23:07:42,332 django.request ERROR    Internal Server Error: /admin/users/subscription/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
psycopg2.errors.UndefinedTable: ОШИБКА:  отношение "users_subscription" не существует
LINE 1: SELECT COUNT(*) AS "__count" FROM "users_subscription"
                                          ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 686, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 134, in _wrapped_view
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\views\decorators\cache.py", line 62, in _wrapped_view_func
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\sites.py", line 242, in inner
    return view(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 46, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 134, in _wrapped_view
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 1932, in changelist_view
    cl = self.get_changelist_instance(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 834, in get_changelist_instance
    return ChangeList(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\views\main.py", line 123, in __init__
    self.get_results(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\views\main.py", line 279, in get_results
    result_count = paginator.count
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\functional.py", line 57, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\paginator.py", line 96, in count
    return c()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 621, in count
    return self.query.get_count(using=self.db)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 559, in get_count
    return obj.get_aggregation(using, ["__count"])["__count"]
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 544, in get_aggregation
    result = compiler.execute_sql(SINGLE)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\compiler.py", line 1398, in execute_sql
    cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 230, in execute
    return self._record(self.cursor.execute, sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 154, in _record
    return method(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 102, in execute
    return super().execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
django.db.utils.ProgrammingError: ОШИБКА:  отношение "users_subscription" не существует
LINE 1: SELECT COUNT(*) AS "__count" FROM "users_subscription"
                                          ^

2023-04-01 23:09:24,875 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 23:13:37,188 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-01 23:13:37,750 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 23:21:43,730 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-01 23:21:44,351 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 23:24:11,689 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-01 23:24:12,501 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 23:24:35,495 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-01 23:24:36,039 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 23:24:37,562 django.request ERROR    Internal Server Error: /films/5/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 26, in film
    user = CustomUser.objects.get(user=request.user)
NameError: name 'CustomUser' is not defined
2023-04-01 23:27:16,834 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-01 23:27:17,421 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 23:27:17,832 django.request ERROR    Internal Server Error: /films/5/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 27, in film
    user = CustomUser.objects.get(user=request.user)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 636, in get
    clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1421, in filter
    return self._filter_or_exclude(False, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1439, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1446, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1532, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1562, in _add_q
    child_clause, needed_inner = self.build_filter(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1407, in build_filter
    lookups, parts, reffed_expression = self.solve_lookup_type(arg)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1217, in solve_lookup_type
    _, field, _, lookup_parts = self.names_to_path(lookup_splitted, self.get_meta())
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1709, in names_to_path
    raise FieldError(
django.core.exceptions.FieldError: Cannot resolve keyword 'user' into field. Choices are: email, id, is_staff, last_login, logentry, password, phone, profile, subscription, username
2023-04-01 23:28:14,281 django.request ERROR    Internal Server Error: /films/5/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 27, in film
    user = CustomUser.objects.get(email=request.user)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 636, in get
    clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1421, in filter
    return self._filter_or_exclude(False, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1439, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1446, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1532, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1562, in _add_q
    child_clause, needed_inner = self.build_filter(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1407, in build_filter
    lookups, parts, reffed_expression = self.solve_lookup_type(arg)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1217, in solve_lookup_type
    _, field, _, lookup_parts = self.names_to_path(lookup_splitted, self.get_meta())
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1709, in names_to_path
    raise FieldError(
django.core.exceptions.FieldError: Cannot resolve keyword 'user' into field. Choices are: email, id, is_staff, last_login, logentry, password, phone, profile, subscription, username
2023-04-01 23:28:14,612 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-01 23:28:15,215 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 23:28:36,160 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-01 23:28:36,668 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 23:29:51,490 django.request ERROR    Internal Server Error: /films/5/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 27, in film
    user = CustomUser.objects.get(user.email=request.user)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 636, in get
    clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1421, in filter
    return self._filter_or_exclude(False, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1439, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1446, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1532, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1562, in _add_q
    child_clause, needed_inner = self.build_filter(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1407, in build_filter
    lookups, parts, reffed_expression = self.solve_lookup_type(arg)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1217, in solve_lookup_type
    _, field, _, lookup_parts = self.names_to_path(lookup_splitted, self.get_meta())
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1709, in names_to_path
    raise FieldError(
django.core.exceptions.FieldError: Cannot resolve keyword 'user' into field. Choices are: email, id, is_staff, last_login, logentry, password, phone, profile, subscription, username
2023-04-01 23:29:51,638 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-01 23:29:52,246 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 23:30:10,985 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-01 23:30:11,509 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 23:33:11,765 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-01 23:33:12,310 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 23:36:23,021 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-01 23:36:23,576 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 23:36:24,032 django.request ERROR    Internal Server Error: /films/5/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 27, in film
    user = CustomUser.objects.get(request.user)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 636, in get
    clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1421, in filter
    return self._filter_or_exclude(False, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1439, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1446, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1532, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1562, in _add_q
    child_clause, needed_inner = self.build_filter(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1404, in build_filter
    arg, value = filter_expr
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\functional.py", line 268, in inner
    return func(_wrapped, *args)
TypeError: 'CustomUser' object is not iterable
2023-04-01 23:37:01,636 django.request ERROR    Internal Server Error: /films/5/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 27, in film
    user = CustomUser.objects.get(request.user)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 636, in get
    clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1421, in filter
    return self._filter_or_exclude(False, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1439, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1446, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1532, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1562, in _add_q
    child_clause, needed_inner = self.build_filter(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1404, in build_filter
    arg, value = filter_expr
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\functional.py", line 268, in inner
    return func(_wrapped, *args)
TypeError: 'CustomUser' object is not iterable
2023-04-01 23:37:02,130 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-01 23:37:02,715 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 23:37:19,223 django.request ERROR    Internal Server Error: /films/5/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 27, in film
    user = CustomUser.objects.get(request.user)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 636, in get
    clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1421, in filter
    return self._filter_or_exclude(False, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1439, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1446, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1532, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1562, in _add_q
    child_clause, needed_inner = self.build_filter(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1404, in build_filter
    arg, value = filter_expr
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\functional.py", line 268, in inner
    return func(_wrapped, *args)
TypeError: 'CustomUser' object is not iterable
2023-04-01 23:37:43,308 django.request ERROR    Internal Server Error: /films/5/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 27, in film
    user = CustomUser.objects.get(user_id=request.user)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 636, in get
    clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1421, in filter
    return self._filter_or_exclude(False, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1439, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1446, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1532, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1562, in _add_q
    child_clause, needed_inner = self.build_filter(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1404, in build_filter
    arg, value = filter_expr
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\functional.py", line 268, in inner
    return func(_wrapped, *args)
TypeError: 'CustomUser' object is not iterable
2023-04-01 23:37:43,413 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-01 23:37:44,021 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 23:40:44,281 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-01 23:40:44,818 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 23:41:08,818 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-01 23:41:09,359 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 23:41:37,568 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-01 23:41:38,107 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 23:50:42,689 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-01 23:50:43,233 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 23:50:43,790 django.request ERROR    Internal Server Error: /films/5/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 28, in film
    sub = Subscription.objects.get(user=request.user)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 650, in get
    raise self.model.DoesNotExist(
users.models.Subscription.DoesNotExist: Subscription matching query does not exist.
2023-04-01 23:52:25,218 django.security.csrf WARNING  Forbidden (CSRF token from POST incorrect.): /users/login/
2023-04-01 23:56:13,578 django.request ERROR    Internal Server Error: /users/register/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 28, in register
    return redirect('profile', user.id)
NameError: name 'user' is not defined
2023-04-01 23:57:51,214 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-01 23:57:51,838 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 23:57:52,085 django.security.csrf WARNING  Forbidden (CSRF token from POST incorrect.): /users/register/
2023-04-01 23:58:52,177 django.request ERROR    Internal Server Error: /films/5/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 28, in film
    sub = Subscription.objects.get(user=request.user)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 650, in get
    raise self.model.DoesNotExist(
users.models.Subscription.DoesNotExist: Subscription matching query does not exist.
2023-04-02 00:08:54,341 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-02 00:08:54,908 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-02 00:10:19,047 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-02 00:10:19,617 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-02 00:10:20,203 django.request ERROR    Internal Server Error: /films/5/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 36, in film
    date = datetime.date(sub.date)
TypeError: an integer is required (got type datetime.date)
2023-04-02 00:11:51,318 django.request ERROR    Internal Server Error: /films/5/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 36, in film
    year = sub.date.year
TypeError: an integer is required (got type datetime.date)
2023-04-02 00:11:52,037 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-02 00:11:52,581 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-02 00:12:09,221 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-02 00:12:09,789 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-02 00:12:10,119 django.request ERROR    Internal Server Error: /films/5/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 204, in _get_response
    self.check_response(response, callback)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 332, in check_response
    raise ValueError(
ValueError: The view films.views.film didn't return an HttpResponse object. It returned None instead.
2023-04-02 00:13:04,436 django.request ERROR    Internal Server Error: /films/5/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 204, in _get_response
    self.check_response(response, callback)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 332, in check_response
    raise ValueError(
ValueError: The view films.views.film didn't return an HttpResponse object. It returned None instead.
2023-04-02 00:13:04,880 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-02 00:13:05,452 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-02 00:15:34,975 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-02 00:15:35,543 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-02 00:17:16,249 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-02 00:17:16,824 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-02 00:18:14,992 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-02 00:18:15,538 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-02 00:19:11,672 django.request ERROR    Internal Server Error: /films/5/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 29, in film
    sub = Subscription.objects.get(user=request.user)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 650, in get
    raise self.model.DoesNotExist(
users.models.Subscription.DoesNotExist: Subscription matching query does not exist.
2023-04-04 21:26:10,532 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-04 21:26:21,492 django.request WARNING  Not Found: /
2023-04-04 21:26:21,786 django.request WARNING  Not Found: /favicon.ico
2023-04-04 21:27:08,674 django.request WARNING  Not Found: /
2023-04-04 21:27:15,587 django.request ERROR    Internal Server Error: /films/5/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 29, in film
    sub = Subscription.objects.get(user=request.user)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 650, in get
    raise self.model.DoesNotExist(
users.models.Subscription.DoesNotExist: Subscription matching query does not exist.
2023-04-04 21:27:20,947 django.request ERROR    Internal Server Error: /films/4/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 29, in film
    sub = Subscription.objects.get(user=request.user)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 650, in get
    raise self.model.DoesNotExist(
users.models.Subscription.DoesNotExist: Subscription matching query does not exist.
2023-04-04 21:28:39,336 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-04 21:28:39,949 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-04 21:28:40,410 django.request ERROR    Internal Server Error: /films/5/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 29, in film
    sub = Subscription.objects.get(user=request.user)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 650, in get
    raise self.model.DoesNotExist(
users.models.Subscription.DoesNotExist: Subscription matching query does not exist.
2023-04-04 21:28:43,503 django.request ERROR    Internal Server Error: /films/5/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 29, in film
    sub = Subscription.objects.get(user=request.user)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 650, in get
    raise self.model.DoesNotExist(
users.models.Subscription.DoesNotExist: Subscription matching query does not exist.
2023-04-04 21:34:50,036 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-04 21:34:50,606 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-04 21:41:41,960 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-04 21:41:42,586 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-04 21:46:02,963 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-04 21:46:03,504 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-04 21:53:43,966 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-04 21:53:44,520 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-04 22:00:07,890 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-04 22:00:08,473 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-04 22:09:04,598 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-05 23:26:14,833 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-05 23:26:16,997 django.request WARNING  Not Found: /
2023-04-05 23:26:17,391 django.request WARNING  Not Found: /favicon.ico
2023-04-05 23:29:28,005 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\admin.py changed, reloading.
2023-04-05 23:29:28,590 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-05 23:31:35,178 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\models.py changed, reloading.
2023-04-05 23:31:35,735 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 21:17:15,360 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 21:17:18,996 django.request WARNING  Not Found: /
2023-04-06 21:17:19,380 django.request WARNING  Not Found: /favicon.ico
2023-04-06 21:30:53,791 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\models.py changed, reloading.
2023-04-06 21:30:54,480 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 21:32:19,420 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\models.py changed, reloading.
2023-04-06 21:32:19,984 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 21:40:42,069 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\forms.py changed, reloading.
2023-04-06 21:40:42,604 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 21:40:45,221 django.request WARNING  Not Found: /
2023-04-06 21:40:55,733 django.request ERROR    Internal Server Error: /users/subscribe
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 94, in subscribe
    form = SubscribeForm()
NameError: name 'SubscribeForm' is not defined
2023-04-06 21:41:51,117 django.request ERROR    Internal Server Error: /users/subscribe
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 94, in subscribe
    form = SubscribeForm()
NameError: name 'SubscribeForm' is not defined
2023-04-06 21:41:51,281 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-06 21:41:51,943 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 21:42:46,062 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\forms.py changed, reloading.
2023-04-06 21:42:46,604 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 21:47:58,356 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 22:33:34,283 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-06 22:33:34,821 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 22:35:16,611 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-06 22:35:17,143 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 22:35:57,767 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-06 22:35:58,293 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 22:40:42,112 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\models.py changed, reloading.
2023-04-06 22:40:42,633 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 22:43:35,525 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 22:43:40,678 django.request ERROR    Internal Server Error: /admin/users/usersubscription/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
psycopg2.errors.UndefinedColumn: ОШИБКА:  столбец user_subscription.subscription_id не существует
LINE 1: ...ubscription"."id", "user_subscription"."user_id", "user_subs...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 686, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 134, in _wrapped_view
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\views\decorators\cache.py", line 62, in _wrapped_view_func
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\sites.py", line 242, in inner
    return view(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 46, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 134, in _wrapped_view
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 2069, in changelist_view
    "selection_note": _("0 of %(cnt)s selected") % {"cnt": len(cl.result_list)},
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 376, in __len__
    self._fetch_all()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1867, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 87, in __iter__
    results = compiler.execute_sql(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\compiler.py", line 1398, in execute_sql
    cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 230, in execute
    return self._record(self.cursor.execute, sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 154, in _record
    return method(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 102, in execute
    return super().execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
django.db.utils.ProgrammingError: ОШИБКА:  столбец user_subscription.subscription_id не существует
LINE 1: ...ubscription"."id", "user_subscription"."user_id", "user_subs...
                                                             ^

2023-04-06 22:44:30,816 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\models.py changed, reloading.
2023-04-06 22:44:31,360 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 22:44:52,484 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\models.py changed, reloading.
2023-04-06 22:44:53,031 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 22:46:00,456 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 22:47:20,708 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\forms.py changed, reloading.
2023-04-06 22:47:21,295 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 22:49:48,614 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\forms.py changed, reloading.
2023-04-06 22:49:49,178 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 22:50:28,460 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 22:51:20,899 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 22:51:54,307 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\forms.py changed, reloading.
2023-04-06 22:51:54,853 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 22:56:28,126 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:01:09,314 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\forms.py changed, reloading.
2023-04-06 23:01:09,871 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:03:13,177 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:03:19,610 django.security.csrf WARNING  Forbidden (CSRF token from POST incorrect.): /users/subscribe
2023-04-06 23:05:39,882 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\forms.py changed, reloading.
2023-04-06 23:05:40,457 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:06:32,599 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:09:00,718 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\forms.py changed, reloading.
2023-04-06 23:09:01,301 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:10:55,597 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\forms.py changed, reloading.
2023-04-06 23:10:56,163 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:11:26,522 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\forms.py changed, reloading.
2023-04-06 23:11:27,073 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:12:26,209 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:12:38,735 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\forms.py changed, reloading.
2023-04-06 23:12:39,253 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:15:25,142 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:16:37,892 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\forms.py changed, reloading.
2023-04-06 23:16:38,465 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:16:51,129 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\forms.py changed, reloading.
2023-04-06 23:16:51,675 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:17:22,972 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\forms.py changed, reloading.
2023-04-06 23:17:23,540 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:17:51,729 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\forms.py changed, reloading.
2023-04-06 23:17:52,275 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:17:58,591 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\forms.py changed, reloading.
2023-04-06 23:17:59,105 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:22:22,656 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\forms.py changed, reloading.
2023-04-06 23:22:23,218 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:23:51,225 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\forms.py changed, reloading.
2023-04-06 23:23:51,769 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:38:39,268 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:46:03,980 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-06 23:46:04,556 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:46:09,761 django.request ERROR    Internal Server Error: /users/test/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 102, in test
    sub = UserSubscription.objects.values('subscription__name')
NameError: name 'UserSubscription' is not defined
2023-04-06 23:46:41,064 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-06 23:46:41,595 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:48:45,018 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-06 23:48:45,543 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:49:18,944 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-06 23:49:19,495 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:49:20,007 django.request ERROR    Internal Server Error: /users/test/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 103, in test
    sub = UserSubscription.objects.filter('subscription')
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1421, in filter
    return self._filter_or_exclude(False, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1439, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1446, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1532, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1562, in _add_q
    child_clause, needed_inner = self.build_filter(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1404, in build_filter
    arg, value = filter_expr
ValueError: too many values to unpack (expected 2)
2023-04-06 23:49:30,036 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-06 23:49:30,633 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:49:31,060 django.request ERROR    Internal Server Error: /users/test/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 103, in test
    sub = UserSubscription.objects.filter('subscription__name')
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1421, in filter
    return self._filter_or_exclude(False, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1439, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1446, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1532, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1562, in _add_q
    child_clause, needed_inner = self.build_filter(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1404, in build_filter
    arg, value = filter_expr
ValueError: too many values to unpack (expected 2)
2023-04-06 23:49:55,252 django.request ERROR    Internal Server Error: /users/test/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 103, in test
    sub = UserSubscription.objects.filter('subscription__name')
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1421, in filter
    return self._filter_or_exclude(False, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1439, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1446, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1532, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1562, in _add_q
    child_clause, needed_inner = self.build_filter(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1404, in build_filter
    arg, value = filter_expr
ValueError: too many values to unpack (expected 2)
2023-04-06 23:52:37,216 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-06 23:52:37,774 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:53:59,948 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-06 23:54:00,556 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-07 22:15:54,033 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-07 22:16:09,937 django.request WARNING  Not Found: /favicon.ico
2023-04-07 22:16:11,407 django.request ERROR    Internal Server Error: /users/test/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 105, in test
    return render(request, 'users/test.html', {'sub': sub})
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\shortcuts.py", line 24, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader.py", line 61, in render_to_string
    template = get_template(template_name, using=using)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader.py", line 15, in get_template
    return engine.get_template(template_name)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\backends\django.py", line 33, in get_template
    return Template(self.engine.get_template(template_name), self)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\engine.py", line 175, in get_template
    template, origin = self.find_template(template_name)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\engine.py", line 157, in find_template
    template = loader.get_template(name, skip=skip)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loaders\cached.py", line 57, in get_template
    template = super().get_template(template_name, skip)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loaders\base.py", line 28, in get_template
    return Template(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 154, in __init__
    self.nodelist = self.compile_nodelist()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 200, in compile_nodelist
    return parser.parse()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 513, in parse
    raise self.error(token, e)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 511, in parse
    compiled_result = compile_func(self, token)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\defaulttags.py", line 853, in do_for
    nodelist_loop = parser.parse(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 484, in parse
    raise self.error(token, e)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 482, in parse
    filter_expression = self.compile_filter(token.contents)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 600, in compile_filter
    return FilterExpression(token, self)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 703, in __init__
    raise TemplateSyntaxError(
django.template.exceptions.TemplateSyntaxError: Could not parse the remainder: ' e' from 'el.subscription__nam e'
2023-04-07 22:22:34,587 django.request ERROR    Internal Server Error: /users/test/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 105, in test
    return render(request, 'users/test.html', {'sub': sub})
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\shortcuts.py", line 24, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader.py", line 62, in render_to_string
    return template.render(context, request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\backends\django.py", line 61, in render
    return self.template.render(context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 175, in render
    return self._render(context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\test\utils.py", line 111, in instrumented_test_render
    return self.nodelist.render(context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 966, in render_annotated
    return self.render(context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 966, in render_annotated
    return self.render(context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\defaulttags.py", line 193, in render
    values = list(values)
TypeError: 'Subscription' object is not iterable
2023-04-07 22:22:36,537 django.request ERROR    Internal Server Error: /users/test/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 105, in test
    return render(request, 'users/test.html', {'sub': sub})
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\shortcuts.py", line 24, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader.py", line 62, in render_to_string
    return template.render(context, request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\backends\django.py", line 61, in render
    return self.template.render(context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 175, in render
    return self._render(context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\test\utils.py", line 111, in instrumented_test_render
    return self.nodelist.render(context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 966, in render_annotated
    return self.render(context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 966, in render_annotated
    return self.render(context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\defaulttags.py", line 193, in render
    values = list(values)
TypeError: 'Subscription' object is not iterable
2023-04-07 22:25:01,341 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-07 22:25:01,932 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-07 22:30:05,480 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-07 22:30:06,042 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-07 22:35:10,237 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\forms.py changed, reloading.
2023-04-07 22:35:10,758 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-07 22:35:32,714 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\forms.py changed, reloading.
2023-04-07 22:35:33,275 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-07 22:36:01,339 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-07 22:36:38,997 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\forms.py changed, reloading.
2023-04-07 22:36:39,534 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-07 22:37:30,389 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\forms.py changed, reloading.
2023-04-07 22:37:30,919 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-07 22:42:08,335 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\forms.py changed, reloading.
2023-04-07 22:42:08,897 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-07 22:54:49,976 django.request ERROR    Internal Server Error: /users/subscribe
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
psycopg2.errors.UniqueViolation: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "user_subscription_user_id_key"
DETAIL:  Ключ "(user_id)=(1)" уже существует.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 95, in subscribe
    form.save()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\base.py", line 812, in save
    self.save_base(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\base.py", line 863, in save_base
    updated = self._save_table(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\base.py", line 1006, in _save_table
    results = self._do_insert(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\base.py", line 1047, in _do_insert
    return manager._insert(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1791, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\compiler.py", line 1660, in execute_sql
    cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 230, in execute
    return self._record(self.cursor.execute, sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 154, in _record
    return method(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 102, in execute
    return super().execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
django.db.utils.IntegrityError: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "user_subscription_user_id_key"
DETAIL:  Ключ "(user_id)=(1)" уже существует.

2023-04-07 23:02:57,260 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\admin.py changed, reloading.
2023-04-07 23:02:57,856 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-07 23:06:13,886 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\admin.py changed, reloading.
2023-04-07 23:06:14,428 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-07 23:07:35,542 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\admin.py changed, reloading.
2023-04-07 23:07:36,123 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-07 23:09:17,151 django.request ERROR    Internal Server Error: /users/subscribe
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
psycopg2.errors.UniqueViolation: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "user_subscription_user_id_key"
DETAIL:  Ключ "(user_id)=(1)" уже существует.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 95, in subscribe
    form.save()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\base.py", line 812, in save
    self.save_base(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\base.py", line 863, in save_base
    updated = self._save_table(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\base.py", line 1006, in _save_table
    results = self._do_insert(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\base.py", line 1047, in _do_insert
    return manager._insert(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1791, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\compiler.py", line 1660, in execute_sql
    cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 230, in execute
    return self._record(self.cursor.execute, sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 154, in _record
    return method(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 102, in execute
    return super().execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
django.db.utils.IntegrityError: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "user_subscription_user_id_key"
DETAIL:  Ключ "(user_id)=(1)" уже существует.

2023-04-07 23:14:56,630 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-07 23:14:57,203 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-07 23:15:05,560 django.request ERROR    Internal Server Error: /films/5/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 28, in film
    subscription = Subscription.objects.get(name='"Кино Плюс"')
NameError: name 'Subscription' is not defined
2023-04-07 23:15:52,552 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-07 23:15:53,114 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-07 23:17:18,423 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-07 23:17:18,976 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-05-14 20:55:59,658 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-05-14 20:56:24,355 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-05-14 21:00:04,891 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-05-14 21:00:32,225 asyncio      DEBUG    Using proactor: IocpProactor
2023-05-14 21:00:32,259 asyncio      DEBUG    Using proactor: IocpProactor
2023-05-14 21:02:22,615 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-05-14 21:02:46,606 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-05-14 21:02:50,118 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-05-14 21:03:03,776 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-05-14 21:05:00,147 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-05-14 21:05:33,868 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-05-14 21:06:46,958 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-05-14 21:19:20,001 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-05-14 21:54:58,232 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-05-14 21:57:52,098 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-05-14 21:59:02,181 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-05-14 21:59:19,242 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-05-14 21:59:36,533 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-05-14 22:00:08,619 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-05-14 22:15:50,594 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-05-14 22:24:04,829 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-05-14 22:27:45,652 django.request WARNING  Not Found: /
2023-05-14 22:27:45,846 django.request WARNING  Not Found: /favicon.ico
2023-05-14 22:34:34,668 django.request WARNING  Not Found: /
2023-05-14 22:34:50,375 django.request WARNING  Not Found: /
2023-05-14 22:34:51,176 django.request WARNING  Not Found: /favicon.ico
2023-05-16 21:36:36,545 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-05-16 21:36:41,214 django.request WARNING  Not Found: /
2023-05-16 21:36:41,388 django.request WARNING  Not Found: /favicon.ico
2023-05-16 21:37:05,092 django.request WARNING  Not Found: /
2023-05-16 21:37:16,833 django.request WARNING  Not Found: /
2023-05-16 21:37:17,087 django.request WARNING  Not Found: /favicon.ico
2023-05-16 21:37:52,007 django.request ERROR    Internal Server Error: /admin/films/comment/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
psycopg2.errors.UndefinedTable: ОШИБКА:  отношение "Comment" не существует
LINE 1: SELECT COUNT(*) AS "__count" FROM "Comment"
                                          ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 688, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\views\decorators\cache.py", line 62, in _wrapper_view_func
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\sites.py", line 242, in inner
    return view(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 46, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 1926, in changelist_view
    cl = self.get_changelist_instance(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 836, in get_changelist_instance
    return ChangeList(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\views\main.py", line 123, in __init__
    self.get_results(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\views\main.py", line 279, in get_results
    result_count = paginator.count
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\functional.py", line 57, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\paginator.py", line 93, in count
    return c()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 608, in count
    return self.query.get_count(using=self.db)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 539, in get_count
    return obj.get_aggregation(using, {"__count": Count("*")})["__count"]
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 525, in get_aggregation
    result = compiler.execute_sql(SINGLE)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\compiler.py", line 1560, in execute_sql
    cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 247, in execute
    return self._record(self.cursor.execute, sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 168, in _record
    return method(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 102, in execute
    return super().execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
django.db.utils.ProgrammingError: ОШИБКА:  отношение "Comment" не существует
LINE 1: SELECT COUNT(*) AS "__count" FROM "Comment"
                                          ^

2023-05-16 23:03:31,998 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-05-16 23:05:35,449 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-05-16 23:05:38,153 django.request WARNING  Not Found: /
2023-05-16 23:05:38,343 django.request WARNING  Not Found: /favicon.ico
2023-05-16 23:20:32,967 django.request ERROR    Internal Server Error: /admin/films/comment/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
psycopg2.errors.UndefinedTable: ОШИБКА:  отношение "films_comment" не существует
LINE 1: SELECT COUNT(*) AS "__count" FROM "films_comment"
                                          ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 688, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\views\decorators\cache.py", line 62, in _wrapper_view_func
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\sites.py", line 242, in inner
    return view(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 46, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 1926, in changelist_view
    cl = self.get_changelist_instance(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 836, in get_changelist_instance
    return ChangeList(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\views\main.py", line 123, in __init__
    self.get_results(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\views\main.py", line 279, in get_results
    result_count = paginator.count
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\functional.py", line 57, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\paginator.py", line 93, in count
    return c()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 608, in count
    return self.query.get_count(using=self.db)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 539, in get_count
    return obj.get_aggregation(using, {"__count": Count("*")})["__count"]
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 525, in get_aggregation
    result = compiler.execute_sql(SINGLE)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\compiler.py", line 1560, in execute_sql
    cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 247, in execute
    return self._record(self.cursor.execute, sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 168, in _record
    return method(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 102, in execute
    return super().execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
django.db.utils.ProgrammingError: ОШИБКА:  отношение "films_comment" не существует
LINE 1: SELECT COUNT(*) AS "__count" FROM "films_comment"
                                          ^

2023-05-16 23:20:34,284 django.request WARNING  Not Found: /favicon.ico
2023-05-16 23:20:38,435 django.request ERROR    Internal Server Error: /admin/films/comment/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
psycopg2.errors.UndefinedTable: ОШИБКА:  отношение "films_comment" не существует
LINE 1: SELECT COUNT(*) AS "__count" FROM "films_comment"
                                          ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 688, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\views\decorators\cache.py", line 62, in _wrapper_view_func
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\sites.py", line 242, in inner
    return view(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 46, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 1926, in changelist_view
    cl = self.get_changelist_instance(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 836, in get_changelist_instance
    return ChangeList(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\views\main.py", line 123, in __init__
    self.get_results(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\views\main.py", line 279, in get_results
    result_count = paginator.count
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\functional.py", line 57, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\paginator.py", line 93, in count
    return c()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 608, in count
    return self.query.get_count(using=self.db)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 539, in get_count
    return obj.get_aggregation(using, {"__count": Count("*")})["__count"]
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 525, in get_aggregation
    result = compiler.execute_sql(SINGLE)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\compiler.py", line 1560, in execute_sql
    cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 247, in execute
    return self._record(self.cursor.execute, sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 168, in _record
    return method(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 102, in execute
    return super().execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
django.db.utils.ProgrammingError: ОШИБКА:  отношение "films_comment" не существует
LINE 1: SELECT COUNT(*) AS "__count" FROM "films_comment"
                                          ^

2023-05-16 23:21:33,183 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-05-16 23:22:15,464 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-05-16 23:22:21,614 django.request ERROR    Internal Server Error: /admin/films/comment/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
psycopg2.errors.UndefinedColumn: ОШИБКА:  столбец comment.user_id не существует
LINE 1: SELECT "comment"."id", "comment"."user_id", "comment"."text"...
                               ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 688, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\views\decorators\cache.py", line 62, in _wrapper_view_func
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\sites.py", line 242, in inner
    return view(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 46, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 2065, in changelist_view
    "selection_note": _("0 of %(cnt)s selected") % {"cnt": len(cl.result_list)},
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 380, in __len__
    self._fetch_all()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1881, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\compiler.py", line 1560, in execute_sql
    cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 247, in execute
    return self._record(self.cursor.execute, sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 168, in _record
    return method(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 102, in execute
    return super().execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
django.db.utils.ProgrammingError: ОШИБКА:  столбец comment.user_id не существует
LINE 1: SELECT "comment"."id", "comment"."user_id", "comment"."text"...
                               ^

2023-05-16 23:26:05,590 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-05-16 23:26:10,123 django.request ERROR    Internal Server Error: /admin/films/comment/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
psycopg2.errors.UndefinedColumn: ОШИБКА:  столбец comment.user_id не существует
LINE 1: SELECT "comment"."id", "comment"."user_id", "comment"."text"...
                               ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 688, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\views\decorators\cache.py", line 62, in _wrapper_view_func
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\sites.py", line 242, in inner
    return view(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 46, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 2065, in changelist_view
    "selection_note": _("0 of %(cnt)s selected") % {"cnt": len(cl.result_list)},
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 380, in __len__
    self._fetch_all()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1881, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\compiler.py", line 1560, in execute_sql
    cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 247, in execute
    return self._record(self.cursor.execute, sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 168, in _record
    return method(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 102, in execute
    return super().execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
django.db.utils.ProgrammingError: ОШИБКА:  столбец comment.user_id не существует
LINE 1: SELECT "comment"."id", "comment"."user_id", "comment"."text"...
                               ^

2023-05-16 23:30:11,593 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-05-18 22:43:52,410 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-05-18 22:45:55,389 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-05-18 22:46:02,135 django.request WARNING  Not Found: /
2023-05-18 22:46:02,516 django.request WARNING  Not Found: /favicon.ico
2023-05-28 23:47:53,487 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-03 18:35:36,634 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-03 18:59:07,259 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-03 19:00:54,796 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-03 19:00:59,759 django.request WARNING  Not Found: /
2023-06-03 19:01:00,040 django.request WARNING  Not Found: /favicon.ico
2023-06-03 19:10:41,111 PIL.Image    DEBUG    Importing BlpImagePlugin
2023-06-03 19:10:41,135 PIL.Image    DEBUG    Importing BmpImagePlugin
2023-06-03 19:10:41,136 PIL.Image    DEBUG    Importing BufrStubImagePlugin
2023-06-03 19:10:41,137 PIL.Image    DEBUG    Importing CurImagePlugin
2023-06-03 19:10:41,138 PIL.Image    DEBUG    Importing DcxImagePlugin
2023-06-03 19:10:41,139 PIL.Image    DEBUG    Importing DdsImagePlugin
2023-06-03 19:10:41,140 PIL.Image    DEBUG    Importing EpsImagePlugin
2023-06-03 19:10:41,151 PIL.Image    DEBUG    Importing FitsImagePlugin
2023-06-03 19:10:41,153 PIL.Image    DEBUG    Importing FitsStubImagePlugin
2023-06-03 19:10:41,154 PIL.Image    DEBUG    Importing FliImagePlugin
2023-06-03 19:10:41,154 PIL.Image    DEBUG    Importing FpxImagePlugin
2023-06-03 19:10:41,155 PIL.Image    DEBUG    Image: failed to import FpxImagePlugin: No module named 'olefile'
2023-06-03 19:10:41,156 PIL.Image    DEBUG    Importing FtexImagePlugin
2023-06-03 19:10:41,157 PIL.Image    DEBUG    Importing GbrImagePlugin
2023-06-03 19:10:41,157 PIL.Image    DEBUG    Importing GifImagePlugin
2023-06-03 19:10:41,157 PIL.Image    DEBUG    Importing GribStubImagePlugin
2023-06-03 19:10:41,158 PIL.Image    DEBUG    Importing Hdf5StubImagePlugin
2023-06-03 19:10:41,159 PIL.Image    DEBUG    Importing IcnsImagePlugin
2023-06-03 19:10:41,161 PIL.Image    DEBUG    Importing IcoImagePlugin
2023-06-03 19:10:41,163 PIL.Image    DEBUG    Importing ImImagePlugin
2023-06-03 19:10:41,164 PIL.Image    DEBUG    Importing ImtImagePlugin
2023-06-03 19:10:41,165 PIL.Image    DEBUG    Importing IptcImagePlugin
2023-06-03 19:10:41,165 PIL.Image    DEBUG    Importing JpegImagePlugin
2023-06-03 19:10:41,172 PIL.Image    DEBUG    Importing Jpeg2KImagePlugin
2023-06-03 19:10:41,172 PIL.Image    DEBUG    Importing McIdasImagePlugin
2023-06-03 19:10:41,173 PIL.Image    DEBUG    Importing MicImagePlugin
2023-06-03 19:10:41,175 PIL.Image    DEBUG    Image: failed to import MicImagePlugin: No module named 'olefile'
2023-06-03 19:10:41,175 PIL.Image    DEBUG    Importing MpegImagePlugin
2023-06-03 19:10:41,176 PIL.Image    DEBUG    Importing MpoImagePlugin
2023-06-03 19:10:41,182 PIL.Image    DEBUG    Importing MspImagePlugin
2023-06-03 19:10:41,182 PIL.Image    DEBUG    Importing PalmImagePlugin
2023-06-03 19:10:41,263 PIL.Image    DEBUG    Importing PcdImagePlugin
2023-06-03 19:10:41,265 PIL.Image    DEBUG    Importing PcxImagePlugin
2023-06-03 19:10:41,265 PIL.Image    DEBUG    Importing PdfImagePlugin
2023-06-03 19:10:41,270 PIL.Image    DEBUG    Importing PixarImagePlugin
2023-06-03 19:10:41,271 PIL.Image    DEBUG    Importing PngImagePlugin
2023-06-03 19:10:41,271 PIL.Image    DEBUG    Importing PpmImagePlugin
2023-06-03 19:10:41,271 PIL.Image    DEBUG    Importing PsdImagePlugin
2023-06-03 19:10:41,272 PIL.Image    DEBUG    Importing QoiImagePlugin
2023-06-03 19:10:41,273 PIL.Image    DEBUG    Importing SgiImagePlugin
2023-06-03 19:10:41,274 PIL.Image    DEBUG    Importing SpiderImagePlugin
2023-06-03 19:10:41,275 PIL.Image    DEBUG    Importing SunImagePlugin
2023-06-03 19:10:41,275 PIL.Image    DEBUG    Importing TgaImagePlugin
2023-06-03 19:10:41,276 PIL.Image    DEBUG    Importing TiffImagePlugin
2023-06-03 19:10:41,276 PIL.Image    DEBUG    Importing WebPImagePlugin
2023-06-03 19:10:41,310 PIL.Image    DEBUG    Importing WmfImagePlugin
2023-06-03 19:10:41,312 PIL.Image    DEBUG    Importing XbmImagePlugin
2023-06-03 19:10:41,314 PIL.Image    DEBUG    Importing XpmImagePlugin
2023-06-03 19:10:41,315 PIL.Image    DEBUG    Importing XVThumbImagePlugin
2023-06-03 19:22:43,343 django.request ERROR    Internal Server Error: /films/3/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 28, in film
    subscription = Subscription.objects.get(name='"Кино Плюс"')
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 637, in get
    raise self.model.DoesNotExist(
users.models.Subscription.DoesNotExist: Subscription matching query does not exist.
2023-06-08 18:05:53,267 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-08 18:07:13,861 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-17 15:00:00,746 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-17 15:00:23,954 django.utils.autoreload INFO     D:\Projects\kinopoisk\kinopoisk\settings.py changed, reloading.
2023-06-17 15:00:24,524 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-17 15:00:30,000 django.utils.autoreload INFO     D:\Projects\kinopoisk\kinopoisk\settings.py changed, reloading.
2023-06-17 15:00:30,563 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-17 15:00:34,977 django.request WARNING  Not Found: /favicon.ico
2023-06-17 15:05:28,754 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-17 15:05:29,769 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-17 15:43:09,639 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-17 15:44:06,932 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-17 15:44:07,514 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-17 15:44:09,827 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-17 15:44:10,280 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-17 15:44:13,503 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-17 15:44:14,037 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-17 15:44:17,379 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-17 15:44:17,932 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-17 15:44:47,082 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-17 15:44:47,580 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-17 15:44:50,832 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-17 15:44:51,344 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-17 15:44:54,577 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-17 15:44:55,079 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-17 15:44:57,280 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-17 15:44:57,800 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-17 16:29:02,359 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-17 16:29:34,787 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-17 16:29:35,345 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-17 16:29:36,613 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-17 16:29:37,096 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-17 16:29:38,306 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-17 16:29:38,783 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-17 16:29:41,005 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-17 16:29:41,455 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-17 16:29:43,664 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-17 16:29:44,131 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-17 16:29:48,400 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-17 16:29:48,864 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-17 16:29:50,061 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-17 16:29:50,542 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-17 16:30:55,007 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 21:13:34,738 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 21:13:44,166 django.request WARNING  Not Found: /favicon.ico
2023-06-19 21:56:17,008 django.request ERROR    Internal Server Error: /films/1/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\fields\__init__.py", line 2055, in get_prep_value
    return int(value)
TypeError: int() argument must be a string, a bytes-like object or a number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 31, in film
    sub = UserSubscription.objects.get(user=request.user)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 623, in get
    clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1502, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1533, in _add_q
    child_clause, needed_inner = self.build_filter(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1448, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1275, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\fields\related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\fields\__init__.py", line 2057, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x0000020D53EB4580>>.
2023-06-19 21:56:17,411 django.request WARNING  Not Found: /favicon.ico
2023-06-19 21:56:54,060 django.request WARNING  Not Found: /
2023-06-19 21:57:03,376 django.request ERROR    Internal Server Error: /films/1/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\fields\__init__.py", line 2055, in get_prep_value
    return int(value)
TypeError: int() argument must be a string, a bytes-like object or a number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 31, in film
    sub = UserSubscription.objects.get(user=request.user)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 623, in get
    clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1502, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1533, in _add_q
    child_clause, needed_inner = self.build_filter(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1448, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1275, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\fields\related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\fields\__init__.py", line 2057, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x0000020D55325310>>.
2023-06-19 22:15:22,514 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-19 22:15:23,219 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 22:15:24,506 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-19 22:15:25,045 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 22:15:29,397 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-19 22:15:29,927 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 22:15:31,076 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-19 22:15:31,629 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 22:15:33,876 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-19 22:15:34,394 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 22:15:36,633 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-19 22:15:37,164 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 22:15:40,438 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-19 22:15:41,310 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 22:15:54,946 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-19 22:15:55,503 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 22:15:58,782 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-19 22:15:59,312 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 22:16:03,613 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-19 22:16:04,166 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 22:16:07,436 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-19 22:16:07,960 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 22:16:10,202 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-19 22:16:10,753 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 22:16:15,050 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-19 22:16:15,612 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 22:16:27,178 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-19 22:16:27,719 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 22:16:32,022 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-19 22:16:32,560 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 22:16:33,815 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-19 22:16:34,385 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 22:16:35,663 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-19 22:16:36,207 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 22:16:37,465 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-19 22:16:38,014 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 22:16:53,736 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-19 22:16:54,264 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 22:16:58,618 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-19 22:16:59,142 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 22:17:06,549 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-19 22:17:07,073 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 22:36:24,769 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\forms.py changed, reloading.
2023-06-19 22:36:25,331 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 22:36:29,536 django.request ERROR    Internal Server Error: /films/1/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 505, in parse
    compile_func = self.tags[command]
KeyError: 'scrf_token'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 62, in film
    return render(request, 'films/film.html', {'film': film})
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\shortcuts.py", line 24, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader.py", line 61, in render_to_string
    template = get_template(template_name, using=using)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader.py", line 15, in get_template
    return engine.get_template(template_name)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\backends\django.py", line 33, in get_template
    return Template(self.engine.get_template(template_name), self)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\engine.py", line 175, in get_template
    template, origin = self.find_template(template_name)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\engine.py", line 157, in find_template
    template = loader.get_template(name, skip=skip)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loaders\cached.py", line 57, in get_template
    template = super().get_template(template_name, skip)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loaders\base.py", line 28, in get_template
    return Template(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 154, in __init__
    self.nodelist = self.compile_nodelist()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 200, in compile_nodelist
    return parser.parse()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 513, in parse
    raise self.error(token, e)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 511, in parse
    compiled_result = compile_func(self, token)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader_tags.py", line 293, in do_extends
    nodelist = parser.parse()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 513, in parse
    raise self.error(token, e)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 511, in parse
    compiled_result = compile_func(self, token)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader_tags.py", line 232, in do_block
    nodelist = parser.parse(("endblock",))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 507, in parse
    self.invalid_block_tag(token, command, parse_until)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 558, in invalid_block_tag
    raise self.error(
django.template.exceptions.TemplateSyntaxError: Invalid block tag on line 27: 'scrf_token', expected 'endblock'. Did you forget to register or load this tag?
2023-06-19 22:37:20,672 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-19 22:37:21,248 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 22:37:24,465 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-19 22:37:25,036 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 22:37:30,408 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-19 22:37:30,945 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 22:37:32,219 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-19 22:37:32,762 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 22:37:35,018 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-19 22:37:35,571 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 22:37:37,805 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-19 22:37:38,327 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 22:38:13,790 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\forms.py changed, reloading.
2023-06-19 22:38:14,366 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 22:38:25,994 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\forms.py changed, reloading.
2023-06-19 22:38:26,535 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 22:38:30,851 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\forms.py changed, reloading.
2023-06-19 22:38:31,395 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 22:40:00,447 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\forms.py changed, reloading.
2023-06-19 22:40:00,987 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 22:40:17,729 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\forms.py changed, reloading.
2023-06-19 22:40:18,263 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 22:41:44,185 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\forms.py changed, reloading.
2023-06-19 22:41:44,711 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 22:41:48,006 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\forms.py changed, reloading.
2023-06-19 22:41:48,523 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 22:41:56,960 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\forms.py changed, reloading.
2023-06-19 22:41:57,492 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 22:41:59,743 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\forms.py changed, reloading.
2023-06-19 22:42:00,284 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 22:42:03,558 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\forms.py changed, reloading.
2023-06-19 22:42:04,110 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 22:42:09,479 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\forms.py changed, reloading.
2023-06-19 22:42:10,004 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 22:42:22,574 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\forms.py changed, reloading.
2023-06-19 22:42:23,110 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 22:42:25,411 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\forms.py changed, reloading.
2023-06-19 22:42:25,954 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 22:42:53,373 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\forms.py changed, reloading.
2023-06-19 22:42:53,933 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 22:55:58,839 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-19 22:55:59,441 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 23:02:19,272 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 23:03:51,883 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-19 23:03:52,455 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 23:03:55,789 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-19 23:03:56,359 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-19 23:11:29,785 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 22:43:45,701 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 22:43:51,029 django.request WARNING  Not Found: /favicon.ico
2023-06-21 22:50:19,506 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 22:50:20,134 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 22:50:43,215 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 22:50:43,769 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 22:51:37,321 django.request ERROR    Internal Server Error: /films/2/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 59, in film
    return redirect('film')
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\shortcuts.py", line 48, in redirect
    return redirect_class(resolve_url(to, *args, **kwargs))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\shortcuts.py", line 145, in resolve_url
    return reverse(to, args=args, kwargs=kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\urls\base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\urls\resolvers.py", line 828, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'film' with no arguments not found. 1 pattern(s) tried: ['films/(?P<film_id>[0-9]+)/\\Z']
2023-06-21 22:51:56,170 django.request ERROR    Internal Server Error: /films/2/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 59, in film
    return redirect('film')
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\shortcuts.py", line 48, in redirect
    return redirect_class(resolve_url(to, *args, **kwargs))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\shortcuts.py", line 145, in resolve_url
    return reverse(to, args=args, kwargs=kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\urls\base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\urls\resolvers.py", line 828, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'film' with no arguments not found. 1 pattern(s) tried: ['films/(?P<film_id>[0-9]+)/\\Z']
2023-06-21 22:54:00,415 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 22:54:01,176 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 22:54:02,457 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 22:54:03,057 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 22:54:05,358 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 22:54:06,080 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 22:54:59,013 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 22:54:59,590 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 22:58:53,574 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 22:58:54,418 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:00:09,214 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 23:00:09,963 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:01:12,178 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 23:01:12,716 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:01:24,289 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 23:01:24,823 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:03:57,947 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 23:03:58,502 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:04:00,794 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 23:04:01,342 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:04:09,810 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 23:04:10,307 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:05:17,789 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 23:05:18,394 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:06:16,588 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:07:10,593 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 23:07:11,160 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:08:01,020 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 23:08:01,575 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:08:32,881 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 23:08:33,412 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:08:36,761 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 23:08:37,279 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:08:38,545 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 23:08:39,087 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:08:42,428 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 23:08:42,963 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:10:04,040 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 23:10:04,580 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:10:07,905 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 23:10:08,437 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:11:04,901 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 23:11:05,457 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:11:07,766 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 23:11:08,315 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:11:16,811 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\forms.py changed, reloading.
2023-06-21 23:11:17,357 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:11:21,722 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\forms.py changed, reloading.
2023-06-21 23:11:22,251 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:11:50,551 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\forms.py changed, reloading.
2023-06-21 23:11:51,145 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:15:16,386 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 23:15:16,966 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:16:00,689 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 23:16:01,305 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:16:03,607 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 23:16:04,150 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:19:31,590 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 23:19:32,215 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:19:42,810 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 23:19:43,375 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:20:33,305 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 23:20:33,854 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:20:35,146 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 23:20:35,710 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:20:39,026 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 23:20:39,545 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:22:45,122 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 23:22:45,707 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:22:58,233 django.request ERROR    Internal Server Error: /films/2/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 59, in film
    return redirect('film')
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\shortcuts.py", line 48, in redirect
    return redirect_class(resolve_url(to, *args, **kwargs))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\shortcuts.py", line 145, in resolve_url
    return reverse(to, args=args, kwargs=kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\urls\base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\urls\resolvers.py", line 828, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'film' with no arguments not found. 1 pattern(s) tried: ['films/(?P<film_id>[0-9]+)/\\Z']
2023-06-21 23:23:55,315 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 23:23:55,866 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:43:09,801 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 23:43:10,617 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:43:19,055 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 23:43:19,632 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:43:21,819 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 23:43:22,383 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:43:25,663 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 23:43:26,254 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:44:42,844 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 23:44:43,419 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:44:48,750 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 23:44:49,337 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:44:51,587 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 23:44:52,152 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:44:54,404 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 23:44:54,961 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:44:57,208 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 23:44:57,795 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:45:00,050 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 23:45:00,619 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:45:03,892 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 23:45:04,457 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:45:20,119 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 23:45:20,688 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:47:13,703 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 23:47:14,256 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:47:23,720 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 23:47:24,271 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:47:29,614 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 23:47:30,177 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:47:33,464 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 23:47:34,012 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:47:40,313 django.request ERROR    Internal Server Error: /films/1/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 505, in parse
    compile_func = self.tags[command]
KeyError: 'endblock'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 88, in film
    return render(request, 'films/film.html', {'film': film, 'form': form})
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\shortcuts.py", line 24, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader.py", line 61, in render_to_string
    template = get_template(template_name, using=using)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader.py", line 15, in get_template
    return engine.get_template(template_name)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\backends\django.py", line 33, in get_template
    return Template(self.engine.get_template(template_name), self)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\engine.py", line 175, in get_template
    template, origin = self.find_template(template_name)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\engine.py", line 157, in find_template
    template = loader.get_template(name, skip=skip)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loaders\cached.py", line 57, in get_template
    template = super().get_template(template_name, skip)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loaders\base.py", line 28, in get_template
    return Template(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 154, in __init__
    self.nodelist = self.compile_nodelist()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 200, in compile_nodelist
    return parser.parse()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 513, in parse
    raise self.error(token, e)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 511, in parse
    compiled_result = compile_func(self, token)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader_tags.py", line 293, in do_extends
    nodelist = parser.parse()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 513, in parse
    raise self.error(token, e)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 511, in parse
    compiled_result = compile_func(self, token)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader_tags.py", line 232, in do_block
    nodelist = parser.parse(("endblock",))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 513, in parse
    raise self.error(token, e)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 511, in parse
    compiled_result = compile_func(self, token)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\defaulttags.py", line 967, in do_if
    nodelist = parser.parse(("endif",))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 507, in parse
    self.invalid_block_tag(token, command, parse_until)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 558, in invalid_block_tag
    raise self.error(
django.template.exceptions.TemplateSyntaxError: Invalid block tag on line 38: 'endblock', expected 'endif'. Did you forget to register or load this tag?
2023-06-21 23:49:32,424 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 23:49:32,997 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:49:35,300 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 23:49:35,817 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:49:41,202 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-21 23:49:41,742 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-21 23:50:00,551 django.request ERROR    Internal Server Error: /films/1/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\fields\__init__.py", line 2055, in get_prep_value
    return int(value)
TypeError: int() argument must be a string, a bytes-like object or a number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 33, in film
    sub = UserSubscription.objects.get(user=request.user)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 623, in get
    clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1502, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1533, in _add_q
    child_clause, needed_inner = self.build_filter(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1448, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1275, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\fields\related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\fields\__init__.py", line 2057, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x00000270716782E0>>.
2023-06-21 23:50:06,607 django.request ERROR    Internal Server Error: /films/4/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\fields\__init__.py", line 2055, in get_prep_value
    return int(value)
TypeError: int() argument must be a string, a bytes-like object or a number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 33, in film
    sub = UserSubscription.objects.get(user=request.user)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 623, in get
    clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1502, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1533, in _add_q
    child_clause, needed_inner = self.build_filter(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1448, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1275, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\fields\related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\fields\__init__.py", line 2057, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x0000027071549D60>>.
2023-06-23 21:23:00,237 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-23 21:23:06,100 django.request WARNING  Not Found: /favicon.ico
2023-06-23 21:23:48,964 django.request ERROR    Internal Server Error: /films/4/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\fields\__init__.py", line 2055, in get_prep_value
    return int(value)
TypeError: int() argument must be a string, a bytes-like object or a number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 33, in film
    sub = UserSubscription.objects.get(user=request.user)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 623, in get
    clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1502, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1533, in _add_q
    child_clause, needed_inner = self.build_filter(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1448, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1275, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\fields\related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\fields\__init__.py", line 2057, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x000002209F1313D0>>.
2023-06-23 21:27:27,803 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-23 21:27:28,365 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-23 21:27:34,805 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-23 21:27:35,347 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-23 21:27:40,713 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-23 21:27:41,250 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-23 21:27:43,515 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-23 21:27:44,047 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-23 21:27:48,379 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-23 21:27:48,919 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-23 21:27:51,176 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-23 21:27:51,704 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-23 21:27:53,939 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-23 21:27:54,465 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-23 21:28:02,915 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-23 21:28:03,457 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-23 21:28:08,805 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-23 21:28:09,348 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-23 21:28:17,778 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-23 21:28:18,352 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-23 21:28:20,608 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-23 21:28:21,161 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-23 21:28:27,538 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-23 21:28:28,083 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-23 21:28:31,351 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-23 21:28:31,896 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-23 21:28:35,239 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-23 21:28:35,807 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-23 21:42:40,722 django.security.csrf WARNING  Forbidden (CSRF token from POST incorrect.): /admin/login/
2023-06-23 21:42:51,643 django.security.csrf WARNING  Forbidden (CSRF token from POST incorrect.): /admin/login/
2023-06-23 22:31:14,411 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-23 22:31:15,557 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-23 22:58:06,288 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-23 22:58:46,840 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\forms.py changed, reloading.
2023-06-23 22:58:47,576 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-23 23:00:22,108 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-23 23:00:22,808 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-23 23:00:24,068 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-23 23:00:24,632 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-23 23:00:26,873 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-23 23:00:27,429 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-23 23:00:29,676 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-23 23:00:30,245 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-23 23:00:31,518 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-23 23:00:32,064 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-23 23:00:34,364 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-23 23:00:34,909 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-23 23:00:49,642 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-23 23:00:50,199 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-23 23:01:12,147 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-23 23:01:12,693 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-23 23:01:20,171 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-23 23:01:20,746 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-23 23:08:15,153 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-23 23:08:15,709 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-23 23:08:30,415 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-23 23:08:30,941 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-23 23:08:35,312 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-23 23:08:35,848 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-23 23:08:39,131 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-23 23:08:39,658 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-23 23:08:49,190 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-23 23:08:49,725 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-23 23:08:53,071 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-23 23:08:53,602 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-23 23:08:56,923 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-23 23:08:57,455 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-23 23:09:19,806 django.request ERROR    Internal Server Error: /films/1/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 31, in film
    comments = Comment.objects.get(film)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 623, in get
    clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1502, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1533, in _add_q
    child_clause, needed_inner = self.build_filter(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1380, in build_filter
    arg, value = filter_expr
TypeError: cannot unpack non-iterable Film object
2023-06-23 23:10:25,773 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-23 23:10:26,361 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-23 23:10:27,492 django.request ERROR    Internal Server Error: /films/1/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 31, in film
    comments = Comment.objects.get(film_id)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 623, in get
    clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1502, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1533, in _add_q
    child_clause, needed_inner = self.build_filter(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1380, in build_filter
    arg, value = filter_expr
TypeError: cannot unpack non-iterable int object
2023-06-23 23:10:33,855 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-23 23:10:34,408 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-23 23:10:35,034 django.request ERROR    Internal Server Error: /films/1/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
psycopg2.errors.UniqueViolation: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "comment_user_id_key"
DETAIL:  Ключ "(user_id)=(1)" уже существует.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 125, in film
    comment.save()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\base.py", line 814, in save
    self.save_base(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\base.py", line 877, in save_base
    updated = self._save_table(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\base.py", line 1020, in _save_table
    results = self._do_insert(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\base.py", line 1061, in _do_insert
    return manager._insert(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1805, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\compiler.py", line 1820, in execute_sql
    cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 247, in execute
    return self._record(self.cursor.execute, sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 168, in _record
    return method(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 102, in execute
    return super().execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
django.db.utils.IntegrityError: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "comment_user_id_key"
DETAIL:  Ключ "(user_id)=(1)" уже существует.

2023-06-23 23:11:51,376 django.request ERROR    Internal Server Error: /films/4/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 31, in film
    comments = Comment.objects.get(pk=film_id)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 637, in get
    raise self.model.DoesNotExist(
films.models.Comment.DoesNotExist: Comment matching query does not exist.
2023-06-23 23:13:27,406 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-23 23:13:27,994 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-23 23:13:30,296 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-23 23:13:30,840 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-23 23:13:51,770 django.request ERROR    Internal Server Error: /films/4/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 31, in film
    comments = Comment.objects.get(film=film)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 637, in get
    raise self.model.DoesNotExist(
films.models.Comment.DoesNotExist: Comment matching query does not exist.
2023-06-23 23:14:44,392 django.request ERROR    Internal Server Error: /films/4/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 31, in film
    comments = Comment.objects.get(film=film)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 637, in get
    raise self.model.DoesNotExist(
films.models.Comment.DoesNotExist: Comment matching query does not exist.
2023-06-23 23:15:44,798 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-23 23:15:45,388 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-23 23:19:50,399 django.request ERROR    Internal Server Error: /films/4/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
psycopg2.errors.UniqueViolation: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "comment_user_id_key"
DETAIL:  Ключ "(user_id)=(1)" уже существует.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 58, in film
    comment.save()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\base.py", line 814, in save
    self.save_base(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\base.py", line 877, in save_base
    updated = self._save_table(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\base.py", line 1020, in _save_table
    results = self._do_insert(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\base.py", line 1061, in _do_insert
    return manager._insert(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1805, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\compiler.py", line 1820, in execute_sql
    cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 247, in execute
    return self._record(self.cursor.execute, sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 168, in _record
    return method(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 102, in execute
    return super().execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
django.db.utils.IntegrityError: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "comment_user_id_key"
DETAIL:  Ключ "(user_id)=(1)" уже существует.

2023-06-23 23:24:22,336 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-24 12:28:39,077 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-27 22:22:25,250 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-27 22:22:32,599 django.request WARNING  Not Found: /favicon.ico
2023-06-27 22:22:32,621 django.request WARNING  Not Found: /favicon.ico
2023-06-27 22:30:30,577 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\forms.py changed, reloading.
2023-06-27 22:30:31,177 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-27 22:31:00,363 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-27 22:31:19,314 django.request ERROR    Internal Server Error: /films/1/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
psycopg2.errors.UniqueViolation: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "comment_user_id_key"
DETAIL:  Ключ "(user_id)=(1)" уже существует.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 125, in film
    comment.save()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\base.py", line 814, in save
    self.save_base(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\base.py", line 877, in save_base
    updated = self._save_table(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\base.py", line 1020, in _save_table
    results = self._do_insert(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\base.py", line 1061, in _do_insert
    return manager._insert(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1805, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\compiler.py", line 1820, in execute_sql
    cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 247, in execute
    return self._record(self.cursor.execute, sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 168, in _record
    return method(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 102, in execute
    return super().execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
django.db.utils.IntegrityError: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "comment_user_id_key"
DETAIL:  Ключ "(user_id)=(1)" уже существует.

2023-06-27 22:44:05,213 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-27 22:44:14,943 django.request ERROR    Internal Server Error: /films/1/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
psycopg2.errors.UniqueViolation: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "comment_user_id_key"
DETAIL:  Ключ "(user_id)=(1)" уже существует.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 125, in film
    comment.save()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\base.py", line 814, in save
    self.save_base(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\base.py", line 877, in save_base
    updated = self._save_table(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\base.py", line 1020, in _save_table
    results = self._do_insert(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\base.py", line 1061, in _do_insert
    return manager._insert(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1805, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\compiler.py", line 1820, in execute_sql
    cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 247, in execute
    return self._record(self.cursor.execute, sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 168, in _record
    return method(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 102, in execute
    return super().execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
django.db.utils.IntegrityError: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "comment_user_id_key"
DETAIL:  Ключ "(user_id)=(1)" уже существует.

2023-06-27 23:13:07,806 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:04:53,265 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:05:03,847 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:05:14,306 django.request WARNING  Not Found: /favicon.ico
2023-06-28 15:07:21,969 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-06-28 15:07:22,560 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:13:14,931 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\forms.py changed, reloading.
2023-06-28 15:13:15,487 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:14:20,912 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:14:57,565 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\forms.py changed, reloading.
2023-06-28 15:14:58,141 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:15:25,258 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-28 15:15:25,829 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:15:28,128 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-28 15:15:28,619 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:15:30,824 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-28 15:15:31,280 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:15:35,574 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-28 15:15:36,037 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:15:38,272 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-28 15:15:38,732 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:15:41,953 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-28 15:15:42,452 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:15:43,654 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-28 15:15:44,117 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:15:46,447 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-28 15:15:46,927 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:16:12,568 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-28 15:16:13,071 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:16:15,300 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-28 15:16:15,772 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:16:25,115 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-28 15:16:25,579 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:16:28,813 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-28 15:16:29,268 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:16:36,574 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-28 15:16:37,082 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:16:39,297 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-28 15:16:39,790 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:16:43,027 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-28 15:16:43,575 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:16:44,857 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-28 15:16:45,389 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:16:46,757 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-28 15:16:47,287 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:16:50,610 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-28 15:16:51,141 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:16:59,645 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-28 15:17:01,827 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:17:08,278 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-28 15:17:08,765 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:17:09,960 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-28 15:17:10,434 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:17:14,689 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-28 15:17:15,166 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:17:18,393 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-28 15:17:18,921 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:17:20,162 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-28 15:17:20,658 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:17:25,942 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-28 15:17:26,474 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:17:28,782 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-28 15:17:29,302 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:17:31,574 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-28 15:17:32,058 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:17:39,392 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-28 15:17:39,844 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:17:42,070 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-28 15:17:42,588 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:17:44,888 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-28 15:17:45,410 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:17:50,808 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-28 15:17:51,357 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:17:57,797 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-28 15:17:58,334 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:18:00,619 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-28 15:18:01,172 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:24:26,310 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:24:44,002 django.request ERROR    Internal Server Error: /admin/films/rating/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
psycopg2.errors.UndefinedColumn: ОШИБКА:  столбец films_rating.mark_id не существует
LINE 1: ...CT "films_rating"."id", "films_rating"."user_id", "films_rat...
                                                             ^
HINT:  Возможно, предполагалась ссылка на столбец "films_rating.mark".


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 688, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\views\decorators\cache.py", line 62, in _wrapper_view_func
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\sites.py", line 242, in inner
    return view(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 46, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 2065, in changelist_view
    "selection_note": _("0 of %(cnt)s selected") % {"cnt": len(cl.result_list)},
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 380, in __len__
    self._fetch_all()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1881, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\compiler.py", line 1560, in execute_sql
    cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 247, in execute
    return self._record(self.cursor.execute, sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 168, in _record
    return method(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 102, in execute
    return super().execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
django.db.utils.ProgrammingError: ОШИБКА:  столбец films_rating.mark_id не существует
LINE 1: ...CT "films_rating"."id", "films_rating"."user_id", "films_rat...
                                                             ^
HINT:  Возможно, предполагалась ссылка на столбец "films_rating.mark".

2023-06-28 15:32:04,114 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:32:34,741 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:33:01,129 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\admin.py changed, reloading.
2023-06-28 15:33:01,719 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:33:10,251 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\admin.py changed, reloading.
2023-06-28 15:33:10,815 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:33:14,077 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\admin.py changed, reloading.
2023-06-28 15:33:14,588 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:33:20,912 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\admin.py changed, reloading.
2023-06-28 15:33:21,436 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:33:24,681 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\admin.py changed, reloading.
2023-06-28 15:33:25,218 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:33:34,589 django.request ERROR    Internal Server Error: /admin/films/ratingmark/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
psycopg2.errors.UndefinedTable: ОШИБКА:  отношение "films_ratingmark" не существует
LINE 1: SELECT COUNT(*) AS "__count" FROM "films_ratingmark"
                                          ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 688, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\views\decorators\cache.py", line 62, in _wrapper_view_func
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\sites.py", line 242, in inner
    return view(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 46, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 1926, in changelist_view
    cl = self.get_changelist_instance(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 836, in get_changelist_instance
    return ChangeList(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\views\main.py", line 123, in __init__
    self.get_results(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\views\main.py", line 279, in get_results
    result_count = paginator.count
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\functional.py", line 57, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\paginator.py", line 93, in count
    return c()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 608, in count
    return self.query.get_count(using=self.db)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 539, in get_count
    return obj.get_aggregation(using, {"__count": Count("*")})["__count"]
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 525, in get_aggregation
    result = compiler.execute_sql(SINGLE)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\compiler.py", line 1560, in execute_sql
    cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 247, in execute
    return self._record(self.cursor.execute, sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 168, in _record
    return method(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 102, in execute
    return super().execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
django.db.utils.ProgrammingError: ОШИБКА:  отношение "films_ratingmark" не существует
LINE 1: SELECT COUNT(*) AS "__count" FROM "films_ratingmark"
                                          ^

2023-06-28 15:34:14,353 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:55:53,846 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 15:55:56,377 django.request ERROR    Internal Server Error: /admin/films/ratingmark/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
psycopg2.errors.UndefinedTable: ОШИБКА:  отношение "films_ratingmark" не существует
LINE 1: SELECT COUNT(*) AS "__count" FROM "films_ratingmark"
                                          ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 688, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\views\decorators\cache.py", line 62, in _wrapper_view_func
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\sites.py", line 242, in inner
    return view(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 46, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 1926, in changelist_view
    cl = self.get_changelist_instance(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 836, in get_changelist_instance
    return ChangeList(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\views\main.py", line 123, in __init__
    self.get_results(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\views\main.py", line 279, in get_results
    result_count = paginator.count
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\functional.py", line 57, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\paginator.py", line 93, in count
    return c()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 608, in count
    return self.query.get_count(using=self.db)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 539, in get_count
    return obj.get_aggregation(using, {"__count": Count("*")})["__count"]
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 525, in get_aggregation
    result = compiler.execute_sql(SINGLE)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\compiler.py", line 1560, in execute_sql
    cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 247, in execute
    return self._record(self.cursor.execute, sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 168, in _record
    return method(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 102, in execute
    return super().execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
django.db.utils.ProgrammingError: ОШИБКА:  отношение "films_ratingmark" не существует
LINE 1: SELECT COUNT(*) AS "__count" FROM "films_ratingmark"
                                          ^

2023-06-28 15:56:04,313 django.request ERROR    Internal Server Error: /admin/films/ratingmark/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
psycopg2.errors.UndefinedTable: ОШИБКА:  отношение "films_ratingmark" не существует
LINE 1: SELECT COUNT(*) AS "__count" FROM "films_ratingmark"
                                          ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 688, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\views\decorators\cache.py", line 62, in _wrapper_view_func
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\sites.py", line 242, in inner
    return view(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 46, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 1926, in changelist_view
    cl = self.get_changelist_instance(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 836, in get_changelist_instance
    return ChangeList(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\views\main.py", line 123, in __init__
    self.get_results(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\views\main.py", line 279, in get_results
    result_count = paginator.count
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\functional.py", line 57, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\paginator.py", line 93, in count
    return c()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 608, in count
    return self.query.get_count(using=self.db)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 539, in get_count
    return obj.get_aggregation(using, {"__count": Count("*")})["__count"]
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 525, in get_aggregation
    result = compiler.execute_sql(SINGLE)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\compiler.py", line 1560, in execute_sql
    cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 247, in execute
    return self._record(self.cursor.execute, sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 168, in _record
    return method(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 102, in execute
    return super().execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
django.db.utils.ProgrammingError: ОШИБКА:  отношение "films_ratingmark" не существует
LINE 1: SELECT COUNT(*) AS "__count" FROM "films_ratingmark"
                                          ^

2023-06-28 16:02:01,671 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 16:02:37,612 django.request ERROR    Internal Server Error: /admin/films/ratingmark/add/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 688, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\views\decorators\cache.py", line 62, in _wrapper_view_func
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\sites.py", line 242, in inner
    return view(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 1886, in add_view
    return self.changeform_view(request, None, form_url, extra_context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 46, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 1747, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 1804, in _changeform_view
    self.log_addition(request, new_object, change_message)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 926, in log_addition
    object_repr=str(obj),
TypeError: __str__ returned non-string (type int)
2023-06-28 16:03:42,611 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-28 16:03:43,219 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 16:03:44,495 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-28 16:03:45,059 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 16:03:47,351 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-28 16:03:47,852 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 16:03:49,062 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-28 16:03:49,611 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 16:03:50,889 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-28 16:03:51,387 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 16:04:01,291 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 16:05:37,873 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\forms.py changed, reloading.
2023-06-28 16:05:38,461 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 16:07:59,563 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 16:15:34,910 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-28 16:15:35,518 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-06-28 16:15:37,804 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-06-28 16:15:38,369 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-07-03 22:30:59,193 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-07-03 22:31:06,230 django.request WARNING  Not Found: /favicon.ico
2023-07-03 22:31:12,714 django.security.csrf WARNING  Forbidden (CSRF token from POST incorrect.): /films/1/
2023-07-03 22:35:53,220 django.security.csrf WARNING  Forbidden (CSRF token from POST incorrect.): /users/register/
2023-07-12 23:51:21,491 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-07-12 23:51:24,841 django.request WARNING  Not Found: /
2023-07-28 15:37:46,017 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-07-28 15:37:58,667 django.request WARNING  Not Found: /api_tech/
2023-07-28 15:37:58,908 django.request WARNING  Not Found: /favicon.ico
2023-07-28 15:38:10,583 django.request WARNING  Not Found: /
2023-07-28 15:42:01,795 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-07-28 15:42:02,295 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-07-28 15:50:26,728 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-07-28 15:50:31,059 django.request ERROR    Internal Server Error: /admin/films/rating/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
psycopg2.errors.UndefinedTable: ОШИБКА:  отношение "films_rating" не существует
LINE 1: SELECT COUNT(*) AS "__count" FROM "films_rating"
                                          ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 688, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\views\decorators\cache.py", line 62, in _wrapper_view_func
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\sites.py", line 242, in inner
    return view(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 46, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 1926, in changelist_view
    cl = self.get_changelist_instance(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 836, in get_changelist_instance
    return ChangeList(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\views\main.py", line 123, in __init__
    self.get_results(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\views\main.py", line 279, in get_results
    result_count = paginator.count
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\functional.py", line 57, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\paginator.py", line 93, in count
    return c()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 608, in count
    return self.query.get_count(using=self.db)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 539, in get_count
    return obj.get_aggregation(using, {"__count": Count("*")})["__count"]
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 525, in get_aggregation
    result = compiler.execute_sql(SINGLE)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\compiler.py", line 1560, in execute_sql
    cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 247, in execute
    return self._record(self.cursor.execute, sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 168, in _record
    return method(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 102, in execute
    return super().execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
django.db.utils.ProgrammingError: ОШИБКА:  отношение "films_rating" не существует
LINE 1: SELECT COUNT(*) AS "__count" FROM "films_rating"
                                          ^

2023-07-28 15:59:18,827 django.request ERROR    Internal Server Error: /admin/films/rating/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
psycopg2.errors.UndefinedTable: ОШИБКА:  отношение "films_rating" не существует
LINE 1: SELECT COUNT(*) AS "__count" FROM "films_rating"
                                          ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 688, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\views\decorators\cache.py", line 62, in _wrapper_view_func
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\sites.py", line 242, in inner
    return view(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 46, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 1926, in changelist_view
    cl = self.get_changelist_instance(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 836, in get_changelist_instance
    return ChangeList(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\views\main.py", line 123, in __init__
    self.get_results(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\views\main.py", line 279, in get_results
    result_count = paginator.count
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\functional.py", line 57, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\paginator.py", line 93, in count
    return c()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 608, in count
    return self.query.get_count(using=self.db)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 539, in get_count
    return obj.get_aggregation(using, {"__count": Count("*")})["__count"]
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 525, in get_aggregation
    result = compiler.execute_sql(SINGLE)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\compiler.py", line 1560, in execute_sql
    cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 247, in execute
    return self._record(self.cursor.execute, sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 168, in _record
    return method(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 102, in execute
    return super().execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
django.db.utils.ProgrammingError: ОШИБКА:  отношение "films_rating" не существует
LINE 1: SELECT COUNT(*) AS "__count" FROM "films_rating"
                                          ^

2023-07-28 16:00:53,150 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-07-28 16:00:53,589 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-07-28 16:20:24,959 django.request ERROR    Internal Server Error: /films/1/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
psycopg2.errors.UniqueViolation: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "user_film_idx"
DETAIL:  Ключ "(user_id, film_id)=(1, 1)" уже существует.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 116, in film
    form.save()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\base.py", line 814, in save
    self.save_base(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\base.py", line 877, in save_base
    updated = self._save_table(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\base.py", line 1020, in _save_table
    results = self._do_insert(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\base.py", line 1061, in _do_insert
    return manager._insert(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1805, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\compiler.py", line 1820, in execute_sql
    cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 247, in execute
    return self._record(self.cursor.execute, sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 168, in _record
    return method(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 102, in execute
    return super().execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
django.db.utils.IntegrityError: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "user_film_idx"
DETAIL:  Ключ "(user_id, film_id)=(1, 1)" уже существует.

2023-07-28 16:21:44,490 django.request ERROR    Internal Server Error: /films/1/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
psycopg2.errors.UniqueViolation: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "user_film_idx"
DETAIL:  Ключ "(user_id, film_id)=(1, 1)" уже существует.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 116, in film
    form.save()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\base.py", line 814, in save
    self.save_base(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\base.py", line 877, in save_base
    updated = self._save_table(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\base.py", line 1020, in _save_table
    results = self._do_insert(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\base.py", line 1061, in _do_insert
    return manager._insert(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1805, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\compiler.py", line 1820, in execute_sql
    cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 247, in execute
    return self._record(self.cursor.execute, sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 168, in _record
    return method(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 102, in execute
    return super().execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
django.db.utils.IntegrityError: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "user_film_idx"
DETAIL:  Ключ "(user_id, film_id)=(1, 1)" уже существует.

2024-05-15 22:46:47,549 django.utils.autoreload INFO     Watching for file changes with StatReloader
2024-05-15 22:47:58,664 django.request WARNING  Not Found: /
2024-05-15 22:47:58,973 django.request WARNING  Not Found: /favicon.ico
